{
    "type": [
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2
    ],
    "data": [
        "package ‘ggplot2’ was built under R version 4.0.3 \n",
        "> ",
        "View(l.out)",
        "> ",
        "",
        "> ",
        "print(tickers)",
        "[1] \"ZM\"   \"NVAX\" \"PLUG\"\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# We only need the adjusted daily price for this ratio so, removing everything else with this function",
        "> ",
        "price_adj <- function(tickers){",
        "+ ",
        "  price_adjusted = NULL",
        "+ ",
        "  for (i in tickers){",
        "+ ",
        "    ",
        "+ ",
        "    ",
        "+ ",
        "    bool = l.out$df.tickers$ticker == i",
        "+ ",
        "    data = l.out$df.tickers$price.adjusted[bool]",
        "+ ",
        "    price_adjusted <- cbind(price_adjusted, tickers = data)",
        "+ ",
        "    ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(price_adjusted) <- tickers",
        "+ ",
        "  return(price_adjusted)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "price_adjusted <- price_adj(tickers)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# We calculate the daily expected return by calculating the percentage change in price everyday",
        "> ",
        "",
        "> ",
        "daily_return <- function(df){",
        "+ ",
        "  x <- ncol(df)",
        "+ ",
        "  y <- nrow(df)",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  for (i in (1:x)){",
        "+ ",
        "    d <- NULL",
        "+ ",
        "    for (j in (1:y)){",
        "+ ",
        "      ",
        "+ ",
        "      a <- df[j,i]",
        "+ ",
        "      if (j != y){",
        "+ ",
        "        b <- df[(j+1),i]",
        "+ ",
        "        c <- (b - a)/a",
        "+ ",
        "        d <- append(d, c)}",
        "+ ",
        "  ",
        "+ ",
        "    }",
        "+ ",
        "    e <- cbind(e, tickets = d)",
        "+ ",
        "    }",
        "+ ",
        "  colnames(e) <- colnames(df)",
        "+ ",
        "  return(e)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "daily_return(price_adjusted)",
        "              ZM          NVAX          PLUG\nZM  0.0085799115  0.0126262626  0.0103448276\nZM -0.0183338222  0.0000000000  0.0034129693\nZM -0.0116539369 -0.0024937656  0.0068027211\nZM  0.0046862735  0.0000000000  0.0506756757\nZM  0.0148961483  0.0000000000  0.0128617363\nZM -0.0120088664 -0.0025000000 -0.0222222222\nZM  0.0022509304  0.0025062657  0.0000000000\nZM  0.0187153763 -0.0050000000  0.0259740260\nZM  0.0099941210  0.1281407035  0.0253164557\nZM -0.0209546272 -0.0111358575 -0.0030864198\nZM  0.0451843199  0.0315315315",
        "  0.1826625387\nZM  0.0224687429 -0.0021834061 -0.0026178010\nZM  0.0090403475 -0.0634573304  0.0708661417\nZM  0.0009648518 -0.0630841121 -0.0073529412\nZM  0.0064719496 -0.0199501247  0.0222222222\nZM  0.0128608982  0.0050890585 -0.0096618357\nZM -0.0117519251  0.0101265823 -0.0146341463\nZM  0.0516675477  0.0977443609  0.0396039604\nZM -0.0107876394  0.0913242009 -0.0023809524\nZM -0.0072264222  0.2008368201 -0.0047732697\nZM  0.0154844499  0.7108013937  0.0359712230\nZM -0.0155089529 -0.2780040733 -0.0625000000\nZM",
        " -0.0141646808  0.0803949224 -0.0296296296\nZM -0.0197395056  0.0182767624 -0.0076335878\nZM -0.0350684658  0.0897435897 -0.0230769231\nZM  0.0151902324 -0.1564705882  0.0708661417\nZM  0.0289469996 -0.0460251046 -0.0098039216\nZM  0.0130470097  0.0233918129 -0.0123762376\nZM  0.0236115103  0.0885714286 -0.0300751880\nZM  0.1488859837 -0.1062992126 -0.0051679587\nZM -0.0213324540  0.0293685756  0.0623376623\nZM  0.0139876091 -0.0057061341  0.0097799511\nZM  0.0031038511 -0.0186513630  0.0290556901\nZM  0.0158147716 -0.0774853801",
        "  0.0000000000\nZM  0.0116200250  0.1125198098  0.0305882353\nZM -0.0110404597  0.0270655271  0.0068493151\nZM -0.0045106112  0.0138696255  0.0158730159\nZM  0.0178976214  0.0656634747 -0.0044642857\nZM  0.0121299353 -0.0141206675 -0.0089686099\nZM  0.0598131081  0.0403645833  0.0972850679\nZM  0.0782238933 -0.0050062578  0.1793814433\nZM  0.0130857404 -0.0012578616 -0.0367132867\nZM -0.0335264409 -0.0277078086  0.0108892922\nZM  0.0319378925  0.0569948187 -0.0664272890\nZM  0.0197124080 -0.0257352941 -0.0711538462\nZM",
        " -0.0018678091  0.1597484277 -0.0165631470\nZM  0.0624064950  0.2798264642 -0.1494736842\nZM -0.0752972503  0.3559322034  0.0742574257\nZM  0.0772381048 -0.2487500000  0.0046082949\nZM  0.0385465473 -0.1031613977  0.0344036697\nZM -0.0057035668  0.0500927644  0.0554323725\nZM  0.0702054520  0.1369257951 -0.0462184874\nZM -0.0854400000 -0.0303030303 -0.0462555066\nZM -0.0049860042 -0.1971153846 -0.0923787529\nZM -0.0462417758  0.0628742515  0.0534351145\nZM  0.0166836117 -0.0131455399 -0.0869565217\nZM -0.0075249499 -0.1160799239",
        " -0.1349206349\nZM -0.0182698455 -0.0947255113  0.0336391437\nZM  0.0036289197 -0.1783590963 -0.1834319527\nZM  0.0300389113  0.3748191027  0.1884057971\nZM  0.0684968599  0.1210526316 -0.1371951220\nZM  0.0426248677  0.0873239437  0.1024734982\nZM  0.0547790754 -0.1062176166  0.0641025641\nZM  0.2222136678  0.0396135266  0.0301204819\nZM -0.1527952200  0.1868029740  0.0906432749\nZM  0.0216748643 -0.0798747063  0.0294906166\nZM  0.0220113893  0.0842553191 -0.0078125000\nZM  0.0747432054  0.0243328100 -0.0236220472\nZM",
        " -0.0054053528  0.0957854406 -0.0376344086\nZM -0.0315483155 -0.0503496503 -0.0111731844\nZM -0.0624144218  0.0331369661 -0.0649717514\nZM -0.1100000000 -0.0121168924  0.0271903323\nZM  0.0514229230  0.1262626263 -0.0147058824\nZM -0.0410296031  0.0313901345  0.1014925373\nZM -0.0747519266 -0.0745341615 -0.0108401084\nZM  0.0356922901  0.1530201342  0.0465753425\nZM  0.0568712683 -0.0075669965  0.0000000000\nZM  0.0916391922  0.0346041076  0.0785340314\nZM  0.0439229038  0.0204082211  0.0364077670\nZM  0.0681513783 -0.0261110556",
        " -0.0210772834\nZM -0.0085774810  0.0325156285  0.0741626794\nZM -0.0013310063  0.0541436464  0.0066815145\nZM -0.0071304346  0.2473794025 -0.0221238938\nZM -0.0383918438 -0.0953780712 -0.0452488688\nZM  0.0487191722 -0.0074314906  0.0260663507\nZM  0.1253909884 -0.0463267175 -0.0069284065\nZM -0.0608551259 -0.0269871947  0.0232558140\nZM  0.0365239477  0.0595057993  0.0227272727\nZM -0.0478736617 -0.0218943836 -0.0133333333\nZM -0.0653394904 -0.1041362094 -0.0045045045\nZM -0.0772118945 -0.0152091798 -0.0542986425\nZM",
        "  0.0250795299 -0.0441257057 -0.0622009569\nZM  0.0352194289  0.0421234276  0.0433673469\nZM  0.0096207821 -0.0155037661  0.0195599022\nZM  0.0329373620 -0.0359956110  0.0000000000\nZM  0.0548833961  0.0589265495  0.0479616307\nZM -0.0152091822  0.0319559229  0.0411899314\nZM  0.0712998869  0.3080619327 -0.0527472527\nZM -0.0326766166  0.6253061224 -0.0069605568\nZM  0.0378788268  0.0213460070 -0.0397196262\nZM  0.0046069463 -0.0582738903 -0.0121654501\nZM  0.0412125415  0.1391645467  0.0049261084\nZM -0.0579991986  0.3055236694",
        "  0.0220588235\nZM  0.0545873513 -0.0537218584  0.0000000000\nZM  0.0103639053 -0.0202226523  0.0119904077\nZM -0.0196603435 -0.0518841308 -0.0118483412\nZM -0.0056385573 -0.0790892550 -0.0143884892\nZM -0.0412720571  0.0446757093  0.0267639903\nZM -0.0123780427 -0.0560514244  0.0260663507\nZM  0.0097549052 -0.0138553109 -0.0184757506\nZM  0.0974013617  0.0267618421 -0.0094117647\nZM  0.1374526329  0.1472632244  0.0166270784\nZM  0.0192505908 -0.0602044869 -0.0303738318\nZM  0.0758842409 -0.1085817709  0.0048192771\nZM",
        " -0.0603921441  0.0092655367  0.1990407674\nZM -0.0130734486  0.0367218764 -0.0240000000\nZM  0.0107417916 -0.0326133484  0.0819672131\nZM -0.0209693988  0.0254520870 -0.0340909091\nZM  0.0758896536 -0.0211191160  0.1098039216\nZM  0.0047507148 -0.0117882342 -0.1607773852\nZM -0.0114828789  0.0256583390  0.0652631579\nZM  0.0888301733  0.1206934387  0.0296442688\nZM  0.0148104508  0.0211474838  0.0460652591\nZM -0.0239116221  0.0625119439 -0.0293577982\nZM  0.0203159829  0.0696625158  0.0189035917\nZM  0.0079065652  0.0924582419",
        "  0.0166975881\nZM  0.0319944477  0.0185327722  0.0164233577\nZM  0.0061288414  0.0562548471  0.1543985637\nZM  0.0122226021  0.1125465913  0.1772939347\nZM  0.0141071359  0.0779354968 -0.0290620872\nZM -0.0104428419 -0.0736174518 -0.0707482993\nZM -0.0320871900  0.0803721680  0.1698389458\nZM  0.0200353840 -0.0031097117  0.0275344180\nZM  0.0220478510 -0.0437912548  0.0803897686\nZM  0.0100721065  0.0243413058  0.0259301015\nZM -0.0028271950 -0.0269475383  0.0967032967\nZM  0.0042145824  0.3162134361 -0.0641282565\nZM",
        "  0.0161007284 -0.0598698845  0.0171306210\nZM  0.0120155524 -0.0203458793 -0.0578947368\nZM  0.0235604269 -0.0201453992  0.0391061453\nZM -0.0564396538  0.1055531888 -0.1064516129\nZM -0.0011140146  0.0541602857  0.0409145608\nZM -0.0145763965  0.0107302081  0.0450867052\nZM -0.0299742720  0.0822312086  0.0022123894\nZM -0.0080469947  0.1679275404 -0.0077262693\nZM  0.0893972363 -0.0160866177 -0.0433815350\nZM -0.0303074890  0.0177964702  0.0558139535\nZM  0.0028413108  0.0409410400 -0.0143171806\nZM -0.0370625364 -0.0468419334",
        " -0.0469273743\nZM -0.0196421551 -0.0405473398 -0.0011723329\nZM  0.0234020281  0.0423356477 -0.0199530516\nZM -0.0005944953  0.0644699113 -0.0347305389\nZM  0.0008327623 -0.0218035321  0.0161290323\nZM -0.0094694679  0.0086680930 -0.0268620269\nZM  0.0156400160 -0.0240075646 -0.0326223338\nZM  0.0554920869  0.0892382143  0.1880674449\nZM -0.0024627015  0.0083403031 -0.0032751092\nZM  0.0207974792  0.1038366559  0.0219058050\nZM -0.0170391869 -0.0345265135  0.1500535906\nZM -0.0354892414  0.0166566746  0.0512581547\nZM",
        " -0.0337417796  0.0482706109  0.0673758865\nZM -0.0758400280 -0.1626239416 -0.0606312292\nZM  0.0245845229 -0.1676478370 -0.0601237843\nZM  0.0444829290  0.0712104255  0.0686735654\nZM -0.0094640890  0.0992646766  0.0035211268\nZM  0.0867256937  0.0615657928  0.0701754386\nZM  0.0400150075 -0.0597955575  0.0467213115\nZM -0.0118857592  0.0056760037  0.0689115114\nZM  0.0628130283 -0.0267237390  0.0014652015\nZM -0.0034745227 -0.0384965403 -0.0541331383\nZM -0.0255454093 -0.1334107954 -0.0456303171\nZM  0.0289074785 -0.0515680102",
        "  0.0413290113\nZM  0.0166298959  0.0133498540  0.0155642023\nZM -0.0019981577 -0.0634270181 -0.0045977011\nZM  0.0155762051  0.0036329763  0.0061585835\nZM  0.0863100810  0.0241321519 -0.0068859985\nZM  0.4078437206 -0.0476707829  0.0885978428\nZM -0.0745701323 -0.0207460978 -0.0700636943\nZM -0.0997261101  0.0007774635 -0.1210045662\nZM -0.0299748028 -0.0975917917  0.0181818182\nZM -0.0513936825 -0.0819972237 -0.0025510204\nZM  0.1104935831  0.0648223905  0.0341005968\nZM -0.0132682743  0.0222369561 -0.0008244023\nZM",
        " -0.0038493835  0.0278914061 -0.0338283828\nZM  0.0535509399  0.1084338012  0.0452604611\nZM  0.0184134019  0.0429110857  0.0236928105\nZM -0.0067406166  0.0887257690  0.0327214685\nZM  0.0121395175 -0.0384582961 -0.0077279753\nZM  0.0619788466 -0.0618994102  0.0560747664\nZM  0.0677865413  0.0165190198 -0.0147492625\nZM  0.0515081114  0.0134361777 -0.0321856287\nZM  0.0160982398 -0.0901191191 -0.0657385924\nZM -0.0710246900  0.0085655410 -0.0695364238\nZM  0.0677878366  0.1085513060  0.0364768683\nZM -0.0178046244 -0.0209580666",
        "  0.1330472103\nZM -0.0454415040 -0.0290520148 -0.0030303030\nZM  0.0099032975  0.0037054285  0.0189969605\nZM  0.0273978546 -0.0318412189  0.0439970172\nZM -0.0015734881 -0.0123927929  0.0100000000\nZM  0.0065113824  0.0634169896  0.1131541726\nZM -0.0146692113 -0.0250521381  0.0311308767\nZM  0.0049346262  0.0241131729  0.1232285890\nZM -0.0042862135  0.0092727000 -0.0191991772\nZM  0.0289625250  0.0018015133  0.0307606840\nZM -0.0017668102 -0.0089911886 -0.0428649485\nZM  0.0554379471  0.0640536920 -0.0306121899\nZM",
        " -0.0183889019 -0.0470668234  0.0116958480\nZM  0.0533137437 -0.0030422691 -0.0156068217\nZM  0.0421326901 -0.0393106900 -0.0446271847\nZM  0.0167084562 -0.0466180676  0.0073754763\nZM -0.0551078677 -0.0361587642 -0.0061011596\nZM -0.0443745431 -0.0732004568 -0.0877839725\nZM  0.0143221340  0.0266563393  0.0067294751\nZM -0.0173281388 -0.0049150446  0.0046791444\nZM  0.0122575640 -0.0617416534 -0.0379241517\nZM  0.0409432645  0.0252918182  0.0228215768\nZM -0.0426352630 -0.0921977271  0.0006761325\nZM -0.0510261749  0.0774621277",
        "  0.0006756757\nZM -0.0587526332 -0.0789683697 -0.0546927752\nZM -0.0171617104  0.0209392023  0.1050000000\nZM -0.0032891611  0.0150485069  0.0956691015\nZM  0.0712941049  0.0434002636 -0.0200589959\nZM  0.0269381821  0.0669188060  0.1342564037\nZM  0.0068044489 -0.0349049508  0.0010616242\nZM -0.1737017808  0.0050077565  0.0768821804\nZM -0.0900928780 -0.1281142759 -0.0147710002\nZM  0.0992792346  0.0796292121  0.1494252874\nZM  0.0370155783  0.0689330768  0.0195652609\nZM -0.0584640424  0.0630570575 -0.0008529211\nZM",
        " -0.0109767410 -0.0615941628  0.0670081093\nZM  0.0062132307  0.0247103911 -0.0808000000\nZM  0.0333889496 -0.0320809025  0.0104438207\nZM -0.0018070547 -0.0390390595  0.0245478908\nZM  0.0610924629  0.0017361226  0.0239596459\nZM -0.0212011075  0.0858463286  0.1030377626\nZM -0.0063447314  0.0143647474 -0.0055825082\nZM  0.0378201695  0.0762613642 -0.0209580472\nZM  0.0628549174  0.2250487763  0.0030581040\nZM  0.0143126741  0.1098734806  0.0057164253\nZM -0.1506187584 -0.1149103871 -0.0727548341\nZM  0.0161206641  0.0162792742",
        " -0.0163465066\nZM  0.0016471056  0.0293273901 -0.0091400083\nZM -0.0085360519 -0.0225302254  0.0419287212\nZM -0.0052681738 -0.0247920554 -0.0040241449\nZM  0.0101752947 -0.0243664711  0.1612121212\nZM -0.0646602306 -0.0407925564 -0.0695894224\nZM  0.0326967160 -0.0011283197  0.0168287584\nZM -0.0023871269  0.0850638747 -0.0154468917\nZM -0.0025692551  0.0385970541 -0.0399700784\nZM  0.0086870959 -0.0268311186  0.1077820192\nZM  0.0114413216 -0.0423071142 -0.0003512469\n",
        "> ",
        "price_adjusted[1,3]",
        "PLUG \n 2.9 \n",
        "> ",
        "exp_return <- daily_return(price_adjusted)",
        "> ",
        "View(exp_return)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# we get the average of the year-round % change in price to get the average daily return",
        "> ",
        "",
        "> ",
        "R_Eturn<-avg_dailyreturn(exp_return)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "avg_dailyreturn <- function(df){",
        "+ ",
        "  b <- NULL",
        "+ ",
        "  c <- ncol(df)",
        "+ ",
        "  for (i in 1:c){",
        "+ ",
        "    a <- sum(df[,i])/nrow(df)",
        "+ ",
        "    b <- cbind(b, tickets = a)",
        "+ ",
        "    }",
        "+ ",
        "  ",
        "+ ",
        "  colnames(b) <- colnames(df)",
        "+ ",
        "  return(b)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "# calculating the individual standard deviation of each of the stocks (this will be the risk for our data)",
        "> ",
        "",
        "> ",
        "stan_D <- function(df){",
        "+ ",
        "  b <- NULL",
        "+ ",
        "  for (i in 1:ncol(df)){",
        "+ ",
        "    a<- sd(df[,i])",
        "+ ",
        "    b <- cbind(b, data = a)",
        "+ ",
        "  }",
        "+ ",
        "  colnames(b) <- colnames(df)",
        "+ ",
        "  return(b)",
        "+ ",
        "}",
        "> ",
        "sd<- stan_D(exp_return)",
        "> ",
        "",
        "> ",
        "View(sd)",
        "> ",
        "",
        "> ",
        "for (i in tickers){",
        "+ ",
        "  print(a[,i])",
        "+ ",
        "}",
        "  [1]  63.540  66.350  66.170  67.600  68.180  66.930  66.150  66.460  67.450  66.640  66.790  68.040\n [13]  68.720  67.280  70.320  71.900  72.550  72.620  73.090  74.030  73.160  76.940  76.110  75.560\n [25]  76.730  75.540  74.470  73.000  70.440  71.510  73.580  74.540  76.300  87.660  85.790  86.990\n [37]  87.260  88.640  89.670  88.680  88.280  89.860  90.950  96.390 103.930 105.290 101.760 105.010\n [49] 107.080 106.880 113.550 105.000 113.110 117.470 116.800 125.000 114.320 113.750 108.490 110.300\n [61]",
        " 109.470 107.470 107.860 111.100 118.710 123.770 130.550 159.560 135.180 138.110 141.150 151.700\n [73] 150.880 146.120 137.000 121.930 128.200 122.940 113.750 117.810 124.510 135.920 141.890 151.560\n [85] 150.260 150.060 148.990 143.270 150.250 169.090 158.800 164.600 156.720 146.480 135.170 138.560\n [97] 143.440 144.820 149.590 157.800 155.400 166.480 161.040 167.140 167.910 174.830 164.690 173.680\n[109] 175.480 172.030 171.060 164.000 161.970 163.550 179.480 204.150 208.080 223.870 210.350 207.600\n[121] 209.830",
        " 205.430 221.020 222.070 219.520 239.020 242.560 236.760 241.570 243.480 251.270 252.810\n[133] 255.900 259.510 256.800 248.560 253.540 259.130 261.740 261.000 262.100 266.320 269.520 275.870\n[145] 260.300 260.010 256.220 248.540 246.540 268.580 260.440 261.180 251.500 246.560 252.330 252.180\n[157] 252.390 250.000 253.910 268.000 267.340 272.900 268.250 258.730 250.000 231.040 236.720 247.250\n[169] 244.910 266.150 276.800 273.510 290.690 289.680 282.280 290.440 295.270 294.680 299.270 325.100\n[181] 457.690 423.560",
        " 381.320 369.890 350.880 389.650 384.480 383.000 403.510 410.940 408.170 413.125\n[193] 438.730 468.470 492.600 500.530 464.980 496.500 487.660 465.500 470.110 482.990 482.230 485.370\n[205] 478.250 480.610 478.550 492.410 491.540 518.790 509.250 536.400 559.000 568.340 537.020 513.190\n[217] 520.540 511.520 517.790 538.990 516.010 489.680 460.910 453.000 451.510 483.700 496.730 500.110\n[229] 413.240 376.010 413.340 428.640 403.580 399.150 401.630 415.040 414.290 439.600 430.280 427.550\n[241] 443.720 471.610 478.360",
        " 406.310 412.860 413.540 410.010 407.850 412.000 385.360 397.960 397.010\n  [1]   4.03   4.00   3.99   3.96   4.01   4.01   4.00   4.00   4.00   3.99   4.00   3.98   4.49   4.44\n [15]   4.58   4.57   4.28   4.01   3.93   3.95   3.99   4.38   4.78   5.74   9.82   7.09   7.66   7.80\n [29]   8.50   7.17   6.84   7.00   7.62   6.81   7.01   6.97   6.84   6.31   7.02   7.21   7.31   7.79\n [43]   7.68   7.99   7.95   7.94   7.72   8.16   7.95   9.22  11.80  16.00  12.02  10.78  11.32  12.87\n [57]  12.48  10.02  10.65",
        "  10.51   9.29   8.41   6.91   9.50  10.65  11.58  10.35  10.76  12.77  11.75\n [71]  12.74  13.05  14.30  13.58  14.03  13.86  15.61  16.10  14.90  17.18  17.05  17.64  18.00  17.53\n [85]  18.10  19.08  23.80  21.53  21.37  20.38  19.83  21.01  20.55  18.41  18.13  17.33  18.06  17.78\n [99]  17.14  18.15  18.73  24.50  39.82  40.67  38.30  43.63  56.96  53.90  52.81  50.07  46.11  48.17\n[113]  45.47  44.84  46.04  52.82  49.64  44.25  44.66  46.30  44.79  45.93  44.96  44.43  45.57  51.07\n[127]  52.15  55.41",
        "  59.27  64.75  65.95  69.66  77.50  83.54  77.39  83.61  83.35  79.70  81.64  79.44\n[141] 104.56  98.30  96.30  94.36 104.32 109.97 111.15 120.29 140.49 138.23 140.69 146.45 139.59 133.93\n[155] 139.60 148.60 145.36 146.62 143.10 155.87 157.17 173.49 167.50 170.29 178.51 149.48 124.42 133.28\n[169] 146.51 155.53 146.23 147.06 143.13 137.62 119.26 113.11 114.62 107.35 107.74 110.34 105.08 102.90\n[183] 102.98  92.93  85.31  90.84  92.86  95.45 105.80 110.34 120.13 115.51 108.36 110.15 111.63 101.57\n[197] 102.44",
        " 113.56 111.18 107.95 108.35 104.90 103.60 110.17 107.41 110.00 111.02 111.22 110.22 117.28\n[211] 111.76 111.42 107.04 102.05  98.36  91.16  93.59  93.13  87.38  89.59  81.33  87.63  80.71  82.40\n[225]  83.64  87.27  93.11  89.86  90.31  78.74  85.01  90.87  96.60  90.65  92.89  89.91  86.40  86.55\n[239]  93.98  95.33 102.60 125.69 139.50 123.47 125.48 129.16 126.25 123.12 120.12 115.22 115.09 124.88\n  [1]  3.09  3.17  3.07  2.90  2.93  2.94  2.96  3.11  3.15  3.08  3.08  3.16  3.24  3.23  3.82  3.81\n [17]  4.08",
        "  4.05  4.14  4.10  4.04  4.20  4.19  4.17  4.32  4.05  3.93  3.90  3.81  4.08  4.04  3.99\n [33]  3.87  3.85  4.09  4.13  4.25  4.25  4.38  4.41  4.48  4.46  4.42  4.85  5.72  5.51  5.57  5.20\n [49]  4.83  4.75  4.04  4.34  4.36  4.51  4.76  4.54  4.33  3.93  4.14  3.78  3.27  3.38  2.76  3.28\n [65]  2.83  3.12  3.32  3.42  3.73  3.84  3.81  3.72  3.58  3.54  3.31  3.40  3.35  3.69  3.65  3.82\n [81]  3.82  4.12  4.27  4.18  4.49  4.52  4.42  4.22  4.33  4.30  4.40  4.50  4.44  4.42  4.18  3.92\n [97]  4.09  4.17",
        "  4.17  4.37  4.55  4.31  4.28  4.11  4.06  4.08  4.17  4.17  4.22  4.17  4.11  4.22\n[113]  4.33  4.25  4.21  4.28  4.15  4.17  5.00  4.88  5.28  5.10  5.66  4.75  5.06  5.21  5.45  5.29\n[129]  5.39  5.48  5.57  6.43  7.57  7.35  6.83  7.99  8.21  8.87  9.10  9.98  9.34  9.50  8.95  9.30\n[145]  8.31  8.65  9.04  9.06  8.99  8.60  9.08  8.95  8.53  8.52  8.35  8.06  8.19  7.97  7.71  9.16\n[161]  9.13  9.33 10.73 11.28 12.04 11.31 10.63 11.36 11.40 12.20 12.77 13.65 13.67 12.93 12.34 12.85\n[177] 13.05 12.99 13.07",
        " 12.98 14.13 13.14 11.55 11.76 11.73 12.13 12.12 11.71 12.24 12.53 12.94 12.84\n[193] 13.56 13.36 12.93 12.08 11.24 11.65 13.20 13.16 13.41 14.00 14.14 15.74 16.23 18.23 17.88 18.43\n[209] 17.64 17.10 17.30 17.03 16.27 16.39 16.29 14.86 14.96 15.03 14.46 14.79 14.80 14.81 14.00 15.47\n[225] 16.95 16.61 18.84 18.86 20.31 20.01 23.00 23.45 23.43 25.00 22.98 23.22 23.79 24.36 26.87 26.72\n[241] 26.16 26.24 26.39 24.47 24.07 23.85 24.85 24.75 28.74 26.74 27.19 26.77\n",
        "> ",
        "",
        "> ",
        "cor(exp_return[,1],exp_return[,2])",
        "[1] 0.04805986\n",
        "> ",
        "# to get a combination of all different corelation in the portfolio",
        "> ",
        "install.packages(\"gtools\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/mailt/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/gtools_3.8.2.zip'\n",
        "Content type 'application/zip'",
        " length 336012 bytes (328 KB)\n",
        "downloaded 328 KB\n\n",
        "package ‘gtools’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\mailt\\AppData\\Local\\Temp\\Rtmp8ajfXc\\downloaded_packages\n",
        "> ",
        "library(gtools)",
        "Warning message:\n",
        "package ‘gtools’ was built under R version 4.0.3 \n",
        "> ",
        "nrow(combinations(3,2,tickers))",
        "[1] 3\n",
        "> ",
        "comb <- combinations(3,2,tickers)",
        "> ",
        "comb",
        "     [,1]   [,2]  \n[1,] \"NVAX\" \"PLUG\"\n[2,] \"NVAX\" \"ZM\"  \n[3,] \"PLUG\" \"ZM\"  \n",
        "> ",
        "for (i in 1:nrow(comb)){",
        "+ ",
        "  names_try <- comb[i,1]",
        "+ ",
        "}",
        "> ",
        "expand.grid(tickers,tickers)",
        "  Var1 Var2\n1   ZM   ZM\n2 NVAX   ZM\n3 PLUG   ZM\n4   ZM NVAX\n5 NVAX NVAX\n6 PLUG NVAX\n7   ZM PLUG\n8 NVAX PLUG\n9 PLUG PLUG\n",
        "> ",
        "",
        "> ",
        "# Gives the corelation for any ammount of data in the data frame",
        "> ",
        "corelation <- function(df){",
        "+ ",
        "  comb <- combinations(3,2,tickers)",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  names_cor <- NULL",
        "+ ",
        "  for (i in 1:nrow(comb)){",
        "+ ",
        "    b <- exp_return[,comb[i,1]]",
        "+ ",
        "    c <- exp_return[,comb[i,2]]",
        "+ ",
        "    d <- cor(b,c)",
        "+ ",
        "    e <- cbind(e,i = d)",
        "+ ",
        "    names_cor <- append(names_cor, paste(comb[i,1],comb[i,2]))",
        "+ ",
        "    ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(e) <- names_cor",
        "+ ",
        "  return(e)",
        "+ ",
        "  ",
        "+ ",
        "}",
        "> ",
        "exp_return[,\"ZM\"]",
        "           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0085799115 -0.0183338222 -0.0116539369  0.0046862735  0.0148961483 -0.0120088664  0.0022509304 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0187153763  0.0099941210 -0.0209546272  0.0451843199  0.0224687429  0.0090403475  0.0009648518 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0064719496  0.0128608982 ",
        "-0.0117519251  0.0516675477 -0.0107876394 -0.0072264222  0.0154844499 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0155089529 -0.0141646808 -0.0197395056 -0.0350684658  0.0151902324  0.0289469996  0.0130470097 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0236115103  0.1488859837 -0.0213324540  0.0139876091  0.0031038511  0.0158147716  0.0116200250 \n           ZM            ZM            ZM            ZM ",
        "           ZM            ZM            ZM \n-0.0110404597 -0.0045106112  0.0178976214  0.0121299353  0.0598131081  0.0782238933  0.0130857404 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0335264409  0.0319378925  0.0197124080 -0.0018678091  0.0624064950 -0.0752972503  0.0772381048 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0385465473 -0.0057035668  0.0702054520 -0.0854400000 -0.0049860042 -0.0462417758 ",
        " 0.0166836117 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0075249499 -0.0182698455  0.0036289197  0.0300389113  0.0684968599  0.0426248677  0.0547790754 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.2222136678 -0.1527952200  0.0216748643  0.0220113893  0.0747432054 -0.0054053528 -0.0315483155 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0624144218 ",
        "-0.1100000000  0.0514229230 -0.0410296031 -0.0747519266  0.0356922901  0.0568712683 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0916391922  0.0439229038  0.0681513783 -0.0085774810 -0.0013310063 -0.0071304346 -0.0383918438 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0487191722  0.1253909884 -0.0608551259  0.0365239477 -0.0478736617 -0.0653394904 -0.0772118945 \n           ZM            ZM            ZM ",
        "           ZM            ZM            ZM            ZM \n 0.0250795299  0.0352194289  0.0096207821  0.0329373620  0.0548833961 -0.0152091822  0.0712998869 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0326766166  0.0378788268  0.0046069463  0.0412125415 -0.0579991986  0.0545873513  0.0103639053 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0196603435 -0.0056385573 -0.0412720571 -0.0123780427  0.0097549052 ",
        " 0.0974013617  0.1374526329 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0192505908  0.0758842409 -0.0603921441 -0.0130734486  0.0107417916 -0.0209693988  0.0758896536 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0047507148 -0.0114828789  0.0888301733  0.0148104508 -0.0239116221  0.0203159829  0.0079065652 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM ",
        "\n 0.0319944477  0.0061288414  0.0122226021  0.0141071359 -0.0104428419 -0.0320871900  0.0200353840 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0220478510  0.0100721065 -0.0028271950  0.0042145824  0.0161007284  0.0120155524  0.0235604269 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0564396538 -0.0011140146 -0.0145763965 -0.0299742720 -0.0080469947  0.0893972363 -0.0303074890 \n           ZM            ZM ",
        "           ZM            ZM            ZM            ZM            ZM \n 0.0028413108 -0.0370625364 -0.0196421551  0.0234020281 -0.0005944953  0.0008327623 -0.0094694679 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0156400160  0.0554920869 -0.0024627015  0.0207974792 -0.0170391869 -0.0354892414 -0.0337417796 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0758400280  0.0245845229  0.0444829290 -0.0094640890 ",
        " 0.0867256937  0.0400150075 -0.0118857592 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0628130283 -0.0034745227 -0.0255454093  0.0289074785  0.0166298959 -0.0019981577  0.0155762051 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0863100810  0.4078437206 -0.0745701323 -0.0997261101 -0.0299748028 -0.0513936825  0.1104935831 \n           ZM            ZM            ZM            ZM            ZM            ZM ",
        "           ZM \n-0.0132682743 -0.0038493835  0.0535509399  0.0184134019 -0.0067406166  0.0121395175  0.0619788466 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0677865413  0.0515081114  0.0160982398 -0.0710246900  0.0677878366 -0.0178046244 -0.0454415040 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0099032975  0.0273978546 -0.0015734881  0.0065113824 -0.0146692113  0.0049346262 -0.0042862135 \n           ZM ",
        "           ZM            ZM            ZM            ZM            ZM            ZM \n 0.0289625250 -0.0017668102  0.0554379471 -0.0183889019  0.0533137437  0.0421326901  0.0167084562 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0551078677 -0.0443745431  0.0143221340 -0.0173281388  0.0122575640  0.0409432645 -0.0426352630 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0510261749 -0.0587526332 -0.0171617104 ",
        "-0.0032891611  0.0712941049  0.0269381821  0.0068044489 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.1737017808 -0.0900928780  0.0992792346  0.0370155783 -0.0584640424 -0.0109767410  0.0062132307 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0333889496 -0.0018070547  0.0610924629 -0.0212011075 -0.0063447314  0.0378201695  0.0628549174 \n           ZM            ZM            ZM            ZM            ZM ",
        "           ZM            ZM \n 0.0143126741 -0.1506187584  0.0161206641  0.0016471056 -0.0085360519 -0.0052681738  0.0101752947 \n           ZM            ZM            ZM            ZM            ZM            ZM \n-0.0646602306  0.0326967160 -0.0023871269 -0.0025692551  0.0086870959  0.0114413216 \n",
        "> ",
        "coor_value <- corelation(price_adjusted)",
        "> ",
        "i <- c(\"ZM\",\"PLUG\")",
        "> ",
        "# So far",
        "> ",
        "weight <- c(\"NVAX\"= .2, \"ZM\" = .3, \"PLUG\"= .5)",
        "> ",
        "weight[\"NVAX\"] ",
        "NVAX \n 0.2 \n",
        "> ",
        "# need to max weight for the  ",
        "> ",
        "install.packages(\"lpSolve\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/mailt/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/lpSolve_5.6.15.zip'\n",
        "Content type 'application/zip'",
        " length 698199 bytes (681 KB)\n",
        "downloaded 681 KB\n\n",
        "package ‘lpSolve’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\mailt\\AppData\\Local\\Temp\\Rtmp8ajfXc\\downloaded_packages\n",
        "> ",
        "library(lpSolve)",
        "Warning message:\n",
        "package ‘lpSolve’ was built under R version 4.0.3 \n",
        "> ",
        "install.packages(\"lpSolveAPI\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/mailt/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/lpSolveAPI_5.5.2.0-17.7.zip'\n",
        "Content type 'application/zip'",
        " length 916517 bytes (895 KB)\n",
        "downloaded 895 KB\n\n",
        "package ‘lpSolveAPI’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\mailt\\AppData\\Local\\Temp\\Rtmp8ajfXc\\downloaded_packages\n",
        "> ",
        "library(lpSolveAPI)",
        "Warning message:\n",
        "package ‘lpSolveAPI’ was built under R version 4.0.3 \n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "sharpe_ratio(weight, sd, coor_value, R_Eturn)",
        "     NVAX PLUG ZM\nNVAX    0.2657459\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "sharpe_ratio <- function(weight, st_dev, cor_ll, R_eturn, rf = 0){",
        "+ ",
        "  comb <- combinations(ncol(st_dev), 3, colnames(st_dev))",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  f <- NULL",
        "+ ",
        "  ngy <- NULL",
        "+ ",
        "  names_cor <- NULL",
        "+ ",
        " ",
        "+ ",
        "  names_shrp <- NULL",
        "+ ",
        "  for (i in 1:nrow(comb)){",
        "+ ",
        "    sd_a <- st_dev[,comb[i,1]]",
        "+ ",
        "    sd_b <- st_dev[,comb[i,2]]",
        "+ ",
        "    sd_c <- st_dev[,comb[i,3]]",
        "+ ",
        "    weight_a <- weight[1]",
        "+ ",
        "    weight_b <- weight[2]",
        "+ ",
        "    weight_c <- weight[3]",
        "+ ",
        "    P_ab <- cor_ll[,paste(comb[i,1],comb[i,2])]",
        "+ ",
        "    P_ac <- cor_ll[,paste(comb[i,1],comb[i,3])]",
        "+ ",
        "    P_bc <- cor_ll[,paste(comb[i,2],comb[i,3])]",
        "+ ",
        "    var_portfolio <- (weight_a*weight_a*sd_a*sd_a)+(weight_b*weight_b*sd_b*sd_b)+(weight_c*weight_c*sd_c*sd_c)+(2*weight_a*weight_b*sd_a*sd_b*P_ab)+(2*weight_a*weight_c*sd_c*sd_a*P_ac)+(2*weight_b*weight_c*sd_c*sd_b*P_bc)",
        "+ ",
        "    R_eturn_a <- R_eturn[,comb[i,1]]",
        "+ ",
        "    R_eturn_b <- R_eturn[,comb[i,2]]",
        "+ ",
        "    R_eturn_c <- R_eturn[,comb[i,3]]",
        "+ ",
        "    ",
        "+ ",
        "    portfolio_return <- (R_eturn_a * weight_a)+ (R_eturn_b * weight_b)+(R_eturn_c*weight_c)",
        "+ ",
        "    Final_ratio <- (portfolio_return-rf)/sqrt(var_portfolio)",
        "+ ",
        "    e <- paste(comb[i,1],comb[i,2],comb[i,3])",
        "+ ",
        "    ngy <- cbind(ngy,i = Final_ratio)",
        "+ ",
        "    names_cor <- append(names_cor, e)",
        "+ ",
        "  ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(ngy) <- names_cor",
        "+ ",
        "  return(ngy)",
        "+ ",
        "}",
        "> ",
        "library(BatchGetSymbols)",
        "> ",
        "",
        "> ",
        "# Importing data from Yahoo finance, I am only doing 3 stocks right now, but once I have a good structure",
        "> ",
        "# I will feed the program all the 500 stocks from sp500 to get the highest possible sharpe ratio everyday.",
        "> ",
        "# only 3 datas for now",
        "> ",
        "first.date <- Sys.Date()-365",
        "> ",
        "last.date <- Sys.Date()",
        "> ",
        "df.SP500 <- GetSP500Stocks()",
        "> ",
        "df.SP500",
        "    Tickers                           Company SEC.filings            GICS.Sector\n1       MMM                        3M Company     reports            Industrials\n2       ABT               Abbott Laboratories     reports            Health Care\n3      ABBV                       AbbVie Inc.     reports            Health Care\n4      ABMD                       ABIOMED Inc     reports            Health Care\n5       ACN                     Accenture plc     reports Information Technology\n6      ATVI               Activision Blizzard",
        "     reports Communication Services\n7      ADBE                        Adobe Inc.     reports Information Technology\n8       AMD        Advanced Micro Devices Inc     reports Information Technology\n9       AAP                Advance Auto Parts     reports Consumer Discretionary\n10      AES                          AES Corp     reports              Utilities\n11      AFL                         AFLAC Inc     reports             Financials\n12        A          Agilent Technologies Inc     reports            Health Care",
        "\n13      APD      Air Products & Chemicals Inc     reports              Materials\n14     AKAM           Akamai Technologies Inc     reports Information Technology\n15      ALK              Alaska Air Group Inc     reports            Industrials\n16      ALB                    Albemarle Corp     reports              Materials\n17      ARE   Alexandria Real Estate Equities     reports            Real Estate\n18     ALXN           Alexion Pharmaceuticals     reports            Health Care\n19     ALGN                  Align Technology",
        "     reports            Health Care\n20     ALLE                          Allegion     reports            Industrials\n21      LNT               Alliant Energy Corp     reports              Utilities\n22      ALL                     Allstate Corp     reports             Financials\n23    GOOGL           Alphabet Inc. (Class A)     reports Communication Services\n24     GOOG           Alphabet Inc. (Class C)     reports Communication Services\n25       MO                  Altria Group Inc     reports       Consumer Staples",
        "\n26     AMZN                   Amazon.com Inc.     reports Consumer Discretionary\n27     AMCR                         Amcor plc     reports              Materials\n28      AEE                       Ameren Corp     reports              Utilities\n29      AAL           American Airlines Group     reports            Industrials\n30      AEP           American Electric Power     reports              Utilities\n31      AXP               American Express Co     reports             Financials\n32      AIG      American International Group",
        "     reports             Financials\n33      AMT              American Tower Corp.     reports            Real Estate\n34      AWK  American Water Works Company Inc     reports              Utilities\n35      AMP              Ameriprise Financial     reports             Financials\n36      ABC            AmerisourceBergen Corp     reports            Health Care\n37      AME                       AMETEK Inc.     reports            Industrials\n38     AMGN                        Amgen Inc.     reports            Health Care",
        "\n39      APH                     Amphenol Corp     reports Information Technology\n40      ADI              Analog Devices, Inc.     reports Information Technology\n41     ANSS                             ANSYS     reports Information Technology\n42     ANTM                            Anthem     reports            Health Care\n43      AON                           Aon plc     reports             Financials\n44      AOS                   A.O. Smith Corp     reports            Industrials\n45      APA                Apache Corporation",
        "     reports                 Energy\n46      AIV Apartment Investment & Management     reports            Real Estate\n47     AAPL                        Apple Inc.     reports Information Technology\n48     AMAT            Applied Materials Inc.     reports Information Technology\n49     APTV                         Aptiv PLC     reports Consumer Discretionary\n50      ADM         Archer-Daniels-Midland Co     reports       Consumer Staples\n51     ANET                   Arista Networks     reports Information Technology",
        "\n52      AJG         Arthur J. Gallagher & Co.     reports             Financials\n53      AIZ                          Assurant     reports             Financials\n54        T                         AT&T Inc.     reports Communication Services\n55      ATO                      Atmos Energy     reports              Utilities\n56     ADSK                     Autodesk Inc.     reports Information Technology\n57      ADP         Automatic Data Processing     reports Information Technology\n58      AZO                      AutoZone Inc",
        "     reports Consumer Discretionary\n59      AVB             AvalonBay Communities     reports            Real Estate\n60      AVY               Avery Dennison Corp     reports              Materials\n61      BKR                   Baker Hughes Co     reports                 Energy\n62      BLL                         Ball Corp     reports              Materials\n63      BAC              Bank of America Corp     reports             Financials\n64       BK       The Bank of New York Mellon     reports             Financials",
        "\n65      BAX         Baxter International Inc.     reports            Health Care\n66      BDX                  Becton Dickinson     reports            Health Care\n67    BRK.B                Berkshire Hathaway     reports             Financials\n68      BBY                 Best Buy Co. Inc.     reports Consumer Discretionary\n69      BIO              Bio-Rad Laboratories     reports            Health Care\n70     BIIB                       Biogen Inc.     reports            Health Care\n71      BLK                         BlackRock",
        "     reports             Financials\n72       BA                    Boeing Company     reports            Industrials\n73     BKNG              Booking Holdings Inc     reports Consumer Discretionary\n74      BWA                        BorgWarner     reports Consumer Discretionary\n75      BXP                 Boston Properties     reports            Real Estate\n76      BSX                 Boston Scientific     reports            Health Care\n77      BMY              Bristol-Myers Squibb     reports            Health Care",
        "\n78     AVGO                     Broadcom Inc.     reports Information Technology\n79       BR    Broadridge Financial Solutions     reports Information Technology\n80     BF.B                Brown-Forman Corp.     reports       Consumer Staples\n81     CHRW          C. H. Robinson Worldwide     reports            Industrials\n82      COG                   Cabot Oil & Gas     reports                 Energy\n83     CDNS            Cadence Design Systems     reports Information Technology\n84      CPB                     Campbell Soup",
        "     reports       Consumer Staples\n85      COF             Capital One Financial     reports             Financials\n86      CAH              Cardinal Health Inc.     reports            Health Care\n87      KMX                        Carmax Inc     reports Consumer Discretionary\n88      CCL                    Carnival Corp.     reports Consumer Discretionary\n89     CARR                    Carrier Global     reports            Industrials\n90     CTLT                          Catalent     reports            Health Care",
        "\n91      CAT                  Caterpillar Inc.     reports            Industrials\n92     CBOE               Cboe Global Markets     reports             Financials\n93     CBRE                        CBRE Group     reports            Real Estate\n94      CDW                               CDW     reports Information Technology\n95       CE                          Celanese     reports              Materials\n96      CNC               Centene Corporation     reports            Health Care\n97      CNP                CenterPoint Energy",
        "     reports              Utilities\n98     CERN                            Cerner     reports            Health Care\n99       CF        CF Industries Holdings Inc     reports              Materials\n100    SCHW        Charles Schwab Corporation     reports             Financials\n101    CHTR            Charter Communications     reports Communication Services\n102     CVX                     Chevron Corp.     reports                 Energy\n103     CMG            Chipotle Mexican Grill     reports Consumer Discretionary",
        "\n104      CB                     Chubb Limited     reports             Financials\n105     CHD                   Church & Dwight     reports       Consumer Staples\n106      CI                       CIGNA Corp.     reports            Health Care\n107    CINF              Cincinnati Financial     reports             Financials\n108    CTAS                Cintas Corporation     reports            Industrials\n109    CSCO                     Cisco Systems     reports Information Technology\n110       C                    Citigroup Inc.",
        "     reports             Financials\n111     CFG          Citizens Financial Group     reports             Financials\n                               GICS.Sub.Industry                      HQ.Location        Date.First.Added\n1                       Industrial Conglomerates              St. Paul, Minnesota              1976-08-09\n2                          Health Care Equipment          North Chicago, Illinois              1964-03-31\n3                                Pharmaceuticals          North Chicago, Illinois",
        "              2012-12-31\n4                          Health Care Equipment           Danvers, Massachusetts              2018-05-31\n5                 IT Consulting & Other Services                  Dublin, Ireland              2011-07-06\n6                 Interactive Home Entertainment         Santa Monica, California              2015-08-31\n7                           Application Software             San Jose, California              1997-05-05\n8                                 Semiconductors          Santa Clara, California",
        "              2017-03-20\n9                              Automotive Retail          Raleigh, North Carolina              2015-07-09\n10  Independent Power Producers & Energy Traders              Arlington, Virginia              1998-10-02\n11                       Life & Health Insurance                Columbus, Georgia              1999-05-28\n12                         Health Care Equipment          Santa Clara, California              2000-06-05\n13                              Industrial Gases          Allentown, Pennsylvania",
        "              1985-04-30\n14            Internet Services & Infrastructure         Cambridge, Massachusetts              2007-07-12\n15                                      Airlines              Seattle, Washington              2016-05-13\n16                           Specialty Chemicals        Charlotte, North Carolina              2016-07-01\n17                                  Office REITs             Pasadena, California              2017-03-20\n18                                 Biotechnology            Boston, Massachusetts",
        "              2012-05-25\n19                          Health Care Supplies             San Jose, California              2017-06-19\n20                             Building Products                  Dublin, Ireland              2013-12-02\n21                            Electric Utilities               Madison, Wisconsin              2016-07-01\n22                 Property & Casualty Insurance    Northfield Township, Illinois              1995-07-13\n23                  Interactive Media & Services        Mountain View, California",
        "              2014-04-03\n24                  Interactive Media & Services        Mountain View, California              2006-04-03\n25                                       Tobacco               Richmond, Virginia              1957-03-04\n26            Internet & Direct Marketing Retail              Seattle, Washington              2005-11-18\n27                               Paper Packaging Warmley, Bristol, United Kingdom              2019-06-07\n28                               Multi-Utilities              St. Louis, Missouri",
        "              1991-09-19\n29                                      Airlines                Fort Worth, Texas              2015-03-23\n30                            Electric Utilities                   Columbus, Ohio              1957-03-04\n31                              Consumer Finance               New York, New York              1976-06-30\n32                 Property & Casualty Insurance               New York, New York              1980-03-31\n33                             Specialized REITs            Boston, Massachusetts",
        "              2007-11-19\n34                               Water Utilities               Camden, New Jersey              2016-03-04\n35              Asset Management & Custody Banks           Minneapolis, Minnesota              2005-10-03\n36                      Health Care Distributors       Chesterbrook, Pennsylvania              2001-08-30\n37             Electrical Components & Equipment             Berwyn, Pennsylvania              2013-09-23\n38                                 Biotechnology        Thousand Oaks, California",
        "              1992-01-02\n39                         Electronic Components         Wallingford, Connecticut              2008-09-30\n40                                Semiconductors           Norwood, Massachusetts              1999-10-12\n41                          Application Software         Canonsburg, Pennsylvania              2017-06-19\n42                           Managed Health Care            Indianapolis, Indiana              2002-07-25\n43                             Insurance Brokers           London, United Kingdom",
        "              1996-04-23\n44                             Building Products             Milwaukee, Wisconsin              2017-07-26\n45            Oil & Gas Exploration & Production                   Houston, Texas              1997-07-28\n46                             Residential REITs                 Denver, Colorado              2003-03-14\n47    Technology Hardware, Storage & Peripherals            Cupertino, California              1982-11-30\n48                       Semiconductor Equipment          Santa Clara, California",
        "              1995-03-16\n49                        Auto Parts & Equipment                  Dublin, Ireland              2012-12-24\n50                         Agricultural Products                Chicago, Illinois              1981-07-29\n51                      Communications Equipment          Santa Clara, California              2018-08-28\n52                             Insurance Brokers                 Itasca, Illinois              2016-05-31\n53                          Multi-line Insurance               New York, New York",
        "              2007-04-10\n54         Integrated Telecommunication Services                    Dallas, Texas 1983-11-30 (1957-03-04)\n55                                 Gas Utilities                    Dallas, Texas              2019-02-15\n56                          Application Software           San Rafael, California              1989-12-01\n57            Internet Services & Infrastructure             Roseland, New Jersey              1981-03-31\n58                              Specialty Stores               Memphis, Tennessee",
        "              1997-01-02\n59                             Residential REITs           Arlington, Virginia[3]              2007-01-10\n60                               Paper Packaging             Glendale, California              1987-12-31\n61                Oil & Gas Equipment & Services                   Houston, Texas              2017-07-07\n62                      Metal & Glass Containers             Broomfield, Colorado              1984-10-31\n63                             Diversified Banks        Charlotte, North Carolina",
        "              1976-06-30\n64              Asset Management & Custody Banks               New York, New York              1995-03-31\n65                         Health Care Equipment              Deerfield, Illinois              1972-09-30\n66                         Health Care Equipment       Franklin Lakes, New Jersey              1972-09-30\n67                         Multi-Sector Holdings                  Omaha, Nebraska              2010-02-16\n68                 Computer & Electronics Retail             Richfield, Minnesota",
        "              1999-06-29\n69                Life Sciences Tools & Services             Hercules, California              2020-06-22\n70                                 Biotechnology         Cambridge, Massachusetts              2003-11-13\n71              Asset Management & Custody Banks               New York, New York              2011-04-04\n72                           Aerospace & Defense                Chicago, Illinois              1957-03-04\n73            Internet & Direct Marketing Retail             Norwalk, Connecticut",
        "              2009-11-06\n74                        Auto Parts & Equipment           Auburn Hills, Michigan              2011-12-19\n75                                  Office REITs            Boston, Massachusetts              2006-04-03\n76                         Health Care Equipment    Marlborough, Massachusetts[4]              1995-02-24\n77                      Health Care Distributors               New York, New York              1957-03-04\n78                                Semiconductors             San Jose, California",
        "              2014-05-08\n79         Data Processing & Outsourced Services           Lake Success, New York              2018-06-18\n80                         Distillers & Vintners             Louisville, Kentucky              1982-10-31\n81                       Air Freight & Logistics          Eden Prairie, Minnesota              2007-03-02\n82            Oil & Gas Exploration & Production                   Houston, Texas              2008-06-23\n83                          Application Software             San Jose, California",
        "              2017-09-18\n84                        Packaged Foods & Meats               Camden, New Jersey              1957-03-04\n85                              Consumer Finance          Tysons Corner, Virginia              1998-07-01\n86                      Health Care Distributors                     Dublin, Ohio              1997-05-27\n87                              Specialty Stores               Richmond, Virginia              2010-06-28\n88                Hotels, Resorts & Cruise Lines                   Miami, Florida",
        "              1998-12-22\n89                             Building Products      Palm Beach Gardens, Florida              2020-04-03\n90                               Pharmaceuticals             Somerset, New Jersey              2020-09-21\n91         Construction Machinery & Heavy Trucks              Deerfield, Illinois              1957-03-04\n92                    Financial Exchanges & Data                Chicago, Illinois              2017-03-01\n93                          Real Estate Services          Los Angeles, California",
        "              2006-11-10\n94                       Technology Distributors           Lincolnshire, Illinois              2019-09-23\n95                           Specialty Chemicals                    Irving, Texas              2018-12-24\n96                           Managed Health Care              St. Louis, Missouri              2016-03-30\n97                               Multi-Utilities                   Houston, Texas              1985-07-31\n98                        Health Care Technology      North Kansas City, Missouri",
        "              2010-04-30\n99          Fertilizers & Agricultural Chemicals              Deerfield, Illinois              2008-08-27\n100               Investment Banking & Brokerage        San Francisco, California              1997-06-02\n101                            Cable & Satellite            Stamford, Connecticut              2016-09-08\n102                         Integrated Oil & Gas            San Ramon, California              1957-03-04\n103                                  Restaurants        Newport Beach, California",
        "              2011-04-28\n104                Property & Casualty Insurance              Zurich, Switzerland              2010-07-15\n105                           Household Products                Ewing, New Jersey              2015-12-29\n106                          Managed Health Care          Bloomfield, Connecticut              1976-06-30\n107                Property & Casualty Insurance                  Fairfield, Ohio              1997-12-18\n108                 Diversified Support Services                      Mason, Ohio",
        "              2001-03-01\n109                     Communications Equipment             San Jose, California              1993-12-01\n110                            Diversified Banks               New York, New York              1988-05-31\n111                               Regional Banks         Providence, Rhode Island              2016-01-29\n        CIK            Founded\n1     66740               1902\n2      1800               1888\n3   1551152        2013 (1888)\n4    815094               1981\n5   1467373               1989",
        "\n6    718877               2008\n7    796343               1982\n8      2488               1969\n9   1158449               1932\n10   874761               1981\n11     4977               1955\n12  1090872               1999\n13     2969               1940\n14  1086222               1998\n15   766421               1985\n16   915913               1994\n17  1035443               1994\n18   899866               1992\n19  1097149               1997\n20  1579241               1908\n21   352541               1917\n22   899051               1931",
        "\n23  1652044               1998\n24  1652044               1998\n25   764180               1985\n26  1018724               1994\n27  1748790        2019 (1860)\n28  1002910               1902\n29     6201               1934\n30     4904               1906\n31     4962               1850\n32     5272               1919\n33  1053507               1995\n34  1410636               1886\n35   820027               1894\n36  1140859               1985\n37  1037868               1930\n38   318154               1980\n39   820313               1932",
        "\n40     6281               1965\n41  1013462               1969\n42  1156039        2014 (1946)\n43   315293        1982 (1919)\n44    91142               1916\n45     6769               1954\n46   922864        1994 (1975)\n47   320193               1977\n48     6951               1967\n49  1521332               1994\n50     7084               1902\n51  1596532               2004\n52   354190               1927\n53  1267238               1892\n54   732717        1983 (1885)\n55   731802               1906\n56   769397               1982",
        "\n57     8670               1949\n58   866787               1979\n59   915912               1978\n60     8818               1990\n61  1701605               2017\n62     9389               1880\n63    70858 1998 (1923 / 1874)\n64  1390777               1784\n65    10456               1931\n66    10795               1897\n67  1067983               1839\n68   764478               1966\n69    12208               1952\n70   875045               1978\n71  1364742               1988\n72    12927               1916\n73  1075531               1996",
        "\n74   908255               1880\n75  1037540               1970\n76   885725               1979\n77    14272               1989\n78  1730168               1961\n79  1383312               1962\n80    14693               1870\n81  1043277               1905\n82   858470               1989\n83   813672               1988\n84    16732               1869\n85   927628               1935\n86   721371               1971\n87  1170010               1993\n88   815097               1972\n89  1783180        2020 (1915)\n90  1596783               2007",
        "\n91    18230               1925\n92  1374310               1973\n93  1138118               1906\n94  1402057               1984\n95  1306830               1918\n96  1071739               1984\n97  1130310               1882\n98   804753               1979\n99  1324404               1946\n100  316709               1971\n101 1091667               1993\n102   93410               1879\n103 1058090               1993\n104  896159               1985\n105  313927               1847\n106 1739940               1982\n107   20286               1950",
        "\n108  723254               1929\n109  858877               1984\n110  831001               1998\n111  759944               1828\n [ reached 'max' / getOption(\"max.print\") -- omitted 394 rows ]\n",
        "> ",
        "",
        "> ",
        "tickers <- c(\"ZM\", \"NVAX\", \"PLUG\", \"NVDA\", \"ETSY\", \"CARR\", \"LB\", \"PYPL\", \"FDX\", \"NOW\")",
        "> ",
        "",
        "> ",
        "l.out <- BatchGetSymbols(tickers = tickers,",
        "+ ",
        "                         first.date = first.date,",
        "+ ",
        "                         last.date = last.date)",
        "\nRunning BatchGetSymbols for:",
        "\n   tickers =ZM, NVAX, PLUG, NVDA, ETSY, CARR, LB, PYPL, FDX, NOW",
        "\n   Downloading data for benchmark ticker",
        "\n^GSPC | yahoo (1|1)",
        " | Found cache file",
        "\nZM | yahoo (1|10)",
        " | Found cache file",
        " - Got 100% of valid prices | Well done!",
        "\nNVAX | yahoo (2|10)",
        " | Found cache file",
        " - Got 100% of valid prices | You got it!",
        "\nPLUG | yahoo (3|10)",
        " | Found cache file",
        " - Got 100% of valid prices | Good stuff!",
        "\nNVDA | yahoo (4|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Youre doing good!",
        "\nETSY | yahoo (5|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Got it!",
        "\nCARR | yahoo (6|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 75% of valid prices | Looking good!",
        "\nLB | yahoo (7|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Youre doing good!",
        "\nPYPL | yahoo (8|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Looking good!",
        "\nFDX | yahoo (9|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Good stuff!",
        "\nNOW | yahoo (10|10)",
        " | Not Cached",
        " | Saving cache",
        " - Got 100% of valid prices | Feels good!",
        "> ",
        "",
        "> ",
        "print(l.out$df.control)",
        "\u001B[38;5;246m# A tibble: 10 x 6\u001B[39m\n   ticker src   download.status total.obs perc.benchmark.dates threshold.decision\n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m  \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m               \u001B[3m\u001B[38;5;246m<int>\u001B[39m\u001B[23m                \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m             \n\u001B[38;5;250m 1\u001B[39m ZM     yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 2\u001B[39m NVAX   yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 3\u001B[39m PLUG   yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 4\u001B[39m NVDA   yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 5\u001B[39m ETSY   yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 6\u001B[39m CARR   yahoo OK                    190                0.754 KEEP              \n\u001B[38;5;250m 7\u001B[39m LB     yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 8\u001B[39m PYPL   yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m 9\u001B[39m FDX    yahoo OK                    252                1     KEEP              \n\u001B[38;5;250m10\u001B[39m NOW    yahoo OK                    252                1     KEEP              ",
        "\n",
        "> ",
        "print(l.out$df.tickers)",
        "    price.open price.high price.low price.close   volume price.adjusted   ref.date ticker\n1       66.220     68.140    66.040       67.60  2237000          67.60 2019-12-18     ZM\n2       67.750     68.460    67.100       68.18  1610500          68.18 2019-12-19     ZM\n3       68.200     68.480    66.415       66.93  2201400          66.93 2019-12-20     ZM\n4       67.020     67.500    65.930       66.15  1663500          66.15 2019-12-23     ZM\n5       66.300     66.885    65.740       66.46   562600          66.46",
        " 2019-12-24     ZM\n6       66.500     68.190    66.300       67.45  1387600          67.45 2019-12-26     ZM\n7       67.510     67.960    66.510       66.64   955400          66.64 2019-12-27     ZM\n8       66.560     67.180    65.520       66.79  1162700          66.79 2019-12-30     ZM\n9       66.380     68.180    66.310       68.04  1351400          68.04 2019-12-31     ZM\n10      68.800     69.235    68.020       68.72  1315500          68.72 2020-01-02     ZM\n11      67.620     68.680    67.100       67.28",
        "  1127900          67.28 2020-01-03     ZM\n12      66.630     70.495    65.812       70.32  3151600          70.32 2020-01-06     ZM\n13      70.290     72.839    69.370       71.90  6985400          71.90 2020-01-07     ZM\n14      71.810     73.290    71.030       72.55  2482300          72.55 2020-01-08     ZM\n15      73.990     74.000    71.350       72.62  2772000          72.62 2020-01-09     ZM\n16      73.080     73.800    72.250       73.09  1655100          73.09 2020-01-10     ZM\n17      73.890     75.580",
        "    73.800       74.03  3347100          74.03 2020-01-13     ZM\n18      74.320     75.115    72.260       73.16  1909500          73.16 2020-01-14     ZM\n19      73.280     77.780    73.200       76.94  3963500          76.94 2020-01-15     ZM\n20      78.000     78.790    75.110       76.11  2998300          76.11 2020-01-16     ZM\n21      76.660     76.900    75.490       75.56  1357400          75.56 2020-01-17     ZM\n22      75.560     77.120    74.320       76.73  1606700          76.73 2020-01-21     ZM",
        "\n23      77.070     77.106    75.460       75.54  1501600          75.54 2020-01-22     ZM\n24      75.670     75.970    74.210       74.47  1279000          74.47 2020-01-23     ZM\n25      74.970     76.185    72.375       73.00  1660200          73.00 2020-01-24     ZM\n26      71.330     72.132    70.320       70.44  1750700          70.44 2020-01-27     ZM\n27      71.000     72.480    70.260       71.51  1598200          71.51 2020-01-28     ZM\n28      72.510     74.140    71.213       73.58  1373400          73.58",
        " 2020-01-29     ZM\n29      73.100     74.800    72.550       74.54  1425400          74.54 2020-01-30     ZM\n30      74.270     76.670    73.300       76.30  2521700          76.30 2020-01-31     ZM\n31      77.690     88.940    77.510       87.66 13023400          87.66 2020-02-03     ZM\n32      91.040     93.300    83.500       85.79 10611000          85.79 2020-02-04     ZM\n33      85.770     90.970    83.755       86.99  5126800          86.99 2020-02-05     ZM\n34      87.000     89.440    85.260       87.26",
        "  2410800          87.26 2020-02-06     ZM\n35      87.230     90.600    86.810       88.64  2636600          88.64 2020-02-07     ZM\n36      89.090     89.980    86.910       89.67  2071600          89.67 2020-02-10     ZM\n37      90.000     90.500    87.930       88.68  2731900          88.68 2020-02-11     ZM\n38      88.660     89.500    86.520       88.28  1671100          88.28 2020-02-12     ZM\n39      87.610     91.930    87.000       89.86  3406400          89.86 2020-02-13     ZM\n40      90.880     91.710",
        "    89.810       90.95  2295000          90.95 2020-02-14     ZM\n41      93.020     98.140    92.400       96.39  5608200          96.39 2020-02-18     ZM\n42     100.320    105.080    99.750      103.93  7793800         103.93 2020-02-19     ZM\n43     104.000    110.750   101.430      105.29 11293200         105.29 2020-02-20     ZM\n44     104.030    104.290    98.090      101.76  5519200         101.76 2020-02-21     ZM\n45      97.800    110.000    97.020      105.01 12172800         105.01 2020-02-24     ZM",
        "\n46     108.520    111.800   104.466      107.08 13425900         107.08 2020-02-25     ZM\n47     109.943    111.300   105.600      106.88  6867500         106.88 2020-02-26     ZM\n48     109.430    118.000   107.600      113.55 13511800         113.55 2020-02-27     ZM\n49     121.070    121.930    97.370      105.00 21711000         105.00 2020-02-28     ZM\n50     109.350    114.500   102.500      113.11 10157400         113.11 2020-03-02     ZM\n51     114.550    119.200   112.110      117.47 11033700         117.47",
        " 2020-03-03     ZM\n52     118.510    119.970   113.110      116.80 12102600         116.80 2020-03-04     ZM\n53     110.250    129.830   110.000      125.00 28149400         125.00 2020-03-05     ZM\n54     119.650    122.000   107.000      114.32 22975700         114.32 2020-03-06     ZM\n55     105.000    116.500   100.880      113.75 14571300         113.75 2020-03-09     ZM\n56     113.800    113.800   105.000      108.49 10244000         108.49 2020-03-10     ZM\n57     108.410    113.990   107.000      110.30",
        " 12576700         110.30 2020-03-11     ZM\n58     106.250    113.871   104.390      109.47 12097900         109.47 2020-03-12     ZM\n59     113.000    113.800   104.160      107.47  9233500         107.47 2020-03-13     ZM\n60     105.000    119.870   103.200      107.86 17210700         107.86 2020-03-16     ZM\n61     107.330    113.830   102.000      111.10 18721500         111.10 2020-03-17     ZM\n62     111.000    119.000   108.850      118.71 13594300         118.71 2020-03-18     ZM\n63     122.950    132.230",
        "   119.100      123.77 16248400         123.77 2020-03-19     ZM\n64     129.000    135.980   124.000      130.55 13872600         130.55 2020-03-20     ZM\n65     141.997    164.940   137.250      159.56 27681500         159.56 2020-03-23     ZM\n66     154.000    155.000   133.880      135.18 22401300         135.18 2020-03-24     ZM\n67     140.105    149.000   136.200      138.11 14743000         138.11 2020-03-25     ZM\n68     140.510    146.650   138.200      141.15  9252700         141.15 2020-03-26     ZM",
        "\n69     145.700    154.970   145.600      151.70 13271900         151.70 2020-03-27     ZM\n70     160.760    161.690   147.200      150.88 15762200         150.88 2020-03-30     ZM\n71     147.020    149.790   143.357      146.12 10023700         146.12 2020-03-31     ZM\n72     144.500    144.600   135.180      137.00 11453300         137.00 2020-04-01     ZM\n73     125.300    133.489   114.500      121.93 27313800         121.93 2020-04-02     ZM\n74     124.300    128.480   120.110      128.20 12238100         128.20",
        " 2020-04-03     ZM\n75     113.630    125.175   108.530      122.94 25378900         122.94 2020-04-06     ZM\n76     118.005    118.440   109.571      113.75 20166200         113.75 2020-04-07     ZM\n77     115.020    125.878   112.500      117.81 26243300         117.81 2020-04-08     ZM\n78     117.800    125.500   114.000      124.51 15513000         124.51 2020-04-09     ZM\n79     127.000    136.860   125.604      135.92 15411700         135.92 2020-04-13     ZM\n80     141.070    145.200   139.010      141.89",
        " 11679900         141.89 2020-04-14     ZM\n81     141.710    152.570   140.000      151.56 14193300         151.56 2020-04-15     ZM\n82     149.920    154.250   146.800      150.26 15138200         150.26 2020-04-16     ZM\n83     147.910    153.789   144.030      150.06 11328400         150.06 2020-04-17     ZM\n84     153.300    155.000   148.254      148.99 11218700         148.99 2020-04-20     ZM\n85     151.420    154.750   138.360      143.27  9709100         143.27 2020-04-21     ZM\n86     147.100    152.280",
        "   145.100      150.25  6552800         150.25 2020-04-22     ZM\n87     154.010    169.750   153.490      169.09 22159800         169.09 2020-04-23     ZM\n88     177.150    181.500   158.300      158.80 44049500         158.80 2020-04-24     ZM\n89     156.590    167.850   155.000      164.60 19783700         164.60 2020-04-27     ZM\n90     165.000    166.000   155.250      156.72 13477800         156.72 2020-04-28     ZM\n91     147.980    151.000   143.380      146.48 22033300         146.48 2020-04-29     ZM",
        "\n92     139.990    143.800   133.680      135.17 16682300         135.17 2020-04-30     ZM\n93     136.000    141.630   132.670      138.56 13807000         138.56 2020-05-01     ZM\n94     140.770    144.980   140.450      143.44  9184700         143.44 2020-05-04     ZM\n95     144.430    148.440   140.860      144.82  7376300         144.82 2020-05-05     ZM\n96     145.470    150.740   144.090      149.59  6031100         149.59 2020-05-06     ZM\n97     154.840    162.000   154.040      157.80  8388900         157.80",
        " 2020-05-07     ZM\n98     160.000    161.160   152.705      155.40  7079100         155.40 2020-05-08     ZM\n99     159.430    168.000   158.000      166.48 10142700         166.48 2020-05-11     ZM\n100    168.000    168.230   160.050      161.04  7102600         161.04 2020-05-12     ZM\n    ret.adjusted.prices ret.closing.prices\n1                    NA                 NA\n2          0.0085799115       0.0085799115\n3         -0.0183338222      -0.0183338222\n4         -0.0116539369      -0.0116539369\n5          0.0046862735",
        "       0.0046862735\n6          0.0148961483       0.0148961483\n7         -0.0120088664      -0.0120088664\n8          0.0022509304       0.0022509304\n9          0.0187153763       0.0187153763\n10         0.0099941210       0.0099941210\n11        -0.0209546272      -0.0209546272\n12         0.0451843199       0.0451843199\n13         0.0224687429       0.0224687429\n14         0.0090403475       0.0090403475\n15         0.0009648518       0.0009648518\n16         0.0064719496       0.0064719496\n17         0.0128608982",
        "       0.0128608982\n18        -0.0117519251      -0.0117519251\n19         0.0516675477       0.0516675477\n20        -0.0107876394      -0.0107876394\n21        -0.0072264222      -0.0072264222\n22         0.0154844499       0.0154844499\n23        -0.0155089529      -0.0155089529\n24        -0.0141646808      -0.0141646808\n25        -0.0197395056      -0.0197395056\n26        -0.0350684658      -0.0350684658\n27         0.0151902324       0.0151902324\n28         0.0289469996       0.0289469996\n29         0.0130470097",
        "       0.0130470097\n30         0.0236115103       0.0236115103\n31         0.1488859837       0.1488859837\n32        -0.0213324540      -0.0213324540\n33         0.0139876091       0.0139876091\n34         0.0031038511       0.0031038511\n35         0.0158147716       0.0158147716\n36         0.0116200250       0.0116200250\n37        -0.0110404597      -0.0110404597\n38        -0.0045106112      -0.0045106112\n39         0.0178976214       0.0178976214\n40         0.0121299353       0.0121299353\n41         0.0598131081",
        "       0.0598131081\n42         0.0782238933       0.0782238933\n43         0.0130857404       0.0130857404\n44        -0.0335264409      -0.0335264409\n45         0.0319378925       0.0319378925\n46         0.0197124080       0.0197124080\n47        -0.0018678091      -0.0018678091\n48         0.0624064950       0.0624064950\n49        -0.0752972503      -0.0752972503\n50         0.0772381048       0.0772381048\n51         0.0385465473       0.0385465473\n52        -0.0057035668      -0.0057035668\n53         0.0702054520",
        "       0.0702054520\n54        -0.0854400000      -0.0854400000\n55        -0.0049860042      -0.0049860042\n56        -0.0462417758      -0.0462417758\n57         0.0166836117       0.0166836117\n58        -0.0075249499      -0.0075249499\n59        -0.0182698455      -0.0182698455\n60         0.0036289197       0.0036289197\n61         0.0300389113       0.0300389113\n62         0.0684968599       0.0684968599\n63         0.0426248677       0.0426248677\n64         0.0547790754       0.0547790754\n65         0.2222136678",
        "       0.2222136678\n66        -0.1527952200      -0.1527952200\n67         0.0216748643       0.0216748643\n68         0.0220113893       0.0220113893\n69         0.0747432054       0.0747432054\n70        -0.0054053528      -0.0054053528\n71        -0.0315483155      -0.0315483155\n72        -0.0624144218      -0.0624144218\n73        -0.1100000000      -0.1100000000\n74         0.0514229230       0.0514229230\n75        -0.0410296031      -0.0410296031\n76        -0.0747519266      -0.0747519266\n77         0.0356922901",
        "       0.0356922901\n78         0.0568712683       0.0568712683\n79         0.0916391922       0.0916391922\n80         0.0439229038       0.0439229038\n81         0.0681513783       0.0681513783\n82        -0.0085774810      -0.0085774810\n83        -0.0013310063      -0.0013310063\n84        -0.0071304346      -0.0071304346\n85        -0.0383918438      -0.0383918438\n86         0.0487191722       0.0487191722\n87         0.1253909884       0.1253909884\n88        -0.0608551259      -0.0608551259\n89         0.0365239477",
        "       0.0365239477\n90        -0.0478736617      -0.0478736617\n91        -0.0653394904      -0.0653394904\n92        -0.0772118945      -0.0772118945\n93         0.0250795299       0.0250795299\n94         0.0352194289       0.0352194289\n95         0.0096207821       0.0096207821\n96         0.0329373620       0.0329373620\n97         0.0548833961       0.0548833961\n98        -0.0152091822      -0.0152091822\n99         0.0712998869       0.0712998869\n100       -0.0326766166      -0.0326766166\n [ reached 'max' / getOption(\"max.print\") -- omitted",
        " 2358 rows ]\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "library(ggplot2)",
        "> ",
        "View(l.out)",
        "> ",
        "",
        "> ",
        "print(tickers)",
        " [1] \"ZM\"   \"NVAX\" \"PLUG\" \"NVDA\" \"ETSY\" \"CARR\" \"LB\"   \"PYPL\" \"FDX\"  \"NOW\" \n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# We only need the adjusted daily price for this ratio so, removing everything else with this function",
        "> ",
        "price_adj <- function(tickers){",
        "+ ",
        "  price_adjusted = NULL",
        "+ ",
        "  for (i in tickers){",
        "+ ",
        "    ",
        "+ ",
        "    ",
        "+ ",
        "    bool = l.out$df.tickers$ticker == i",
        "+ ",
        "    data = l.out$df.tickers$price.adjusted[bool]",
        "+ ",
        "    price_adjusted <- cbind(price_adjusted, tickers = data)",
        "+ ",
        "    ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(price_adjusted) <- tickers",
        "+ ",
        "  return(price_adjusted)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "price_adjusted <- price_adj(tickers)",
        "Warning message:\n",
        "In cbind(price_adjusted, tickers = data) :",
        "\n ",
        " number of rows of result is not a multiple of vector length (arg 2)\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# We calculate the daily expected return by calculating the percentage change in price everyday",
        "> ",
        "",
        "> ",
        "daily_return <- function(df){",
        "+ ",
        "  x <- ncol(df)",
        "+ ",
        "  y <- nrow(df)",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  for (i in (1:x)){",
        "+ ",
        "    d <- NULL",
        "+ ",
        "    for (j in (1:y)){",
        "+ ",
        "      ",
        "+ ",
        "      a <- df[j,i]",
        "+ ",
        "      if (j != y){",
        "+ ",
        "        b <- df[(j+1),i]",
        "+ ",
        "        c <- (b - a)/a",
        "+ ",
        "        d <- append(d, c)}",
        "+ ",
        "  ",
        "+ ",
        "    }",
        "+ ",
        "    e <- cbind(e, tickets = d)",
        "+ ",
        "    }",
        "+ ",
        "  colnames(e) <- colnames(df)",
        "+ ",
        "  return(e)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "daily_return(price_adjusted)",
        "              ZM          NVAX          PLUG          NVDA          ETSY          CARR            LB\nZM  0.0085799115  0.0126262626  0.0103448276  0.0259248759  0.0377893009  0.0625000000 -0.0054054332\nZM -0.0183338222  0.0000000000  0.0034129693  0.0166057511  0.0027310424 -0.0949019292  0.0043478596\nZM -0.0116539369 -0.0024937656  0.0068027211 -0.0022976064  0.0163413069  0.0138647827 -0.0113636893\nZM  0.0046862735  0.0000000000  0.0506756757 -0.0008374779 -0.0024564762  0.1495726496 -0.0027367134\nZM  0.0148961483",
        "  0.0000000000  0.0128617363  0.0023887393  0.0165659734  0.1486988848  0.0093303600\nZM -0.0120088664 -0.0025000000 -0.0222222222 -0.0096995270 -0.0094692799 -0.0582524272 -0.0097879353\nZM  0.0022509304  0.0025062657  0.0000000000 -0.0192088146 -0.0113383504  0.0927835052 -0.0076880459\nZM  0.0187153763 -0.0050000000  0.0259740260  0.0128272312 -0.0038228468  0.0849057237  0.0027670595\nZM  0.0099941210  0.1281407035  0.0253164557  0.0195919301  0.0200902939 -0.1275362828 -0.0347682625\nZM -0.0209546272 -0.0111358575",
        " -0.0030864198 -0.0160058980 -0.0064172827 -0.1176079199  0.0783305522\nZM  0.0451843199  0.0315315315  0.1826625387  0.0041936197 -0.0014477282  0.2740963235 -0.0371155643\nZM  0.0224687429 -0.0021834061 -0.0026178010  0.0121065463  0.0210772838 -0.0874704362 -0.0077092682\nZM  0.0090403475 -0.0634573304  0.0708661417  0.0018756362 -0.0169287465 -0.0123057252  0.0072141142\nZM  0.0009648518 -0.0630841121 -0.0073529412  0.0109826068  0.0316631256 -0.0649179932  0.0446281590\nZM  0.0064719496 -0.0199501247  0.0222222222",
        "  0.0053493274 -0.0064613181  0.0364656507  0.0237341128\nZM  0.0128608982  0.0050890585 -0.0096618357  0.0313522755  0.0396704522 -0.0534506332  0.0401855352\nZM -0.0117519251  0.0101265823 -0.0146341463 -0.0186522260  0.0248124067 -0.0085774976 -0.0079247260\nZM  0.0516675477  0.0977443609  0.0396039604 -0.0069153027 -0.0059003253 -0.0367701201 -0.0119819676\nZM -0.0107876394  0.0913242009 -0.0023809524  0.0136825038  0.0417519639 -0.0351795062  0.0247599580\nZM -0.0072264222  0.2008368201 -0.0047732697  0.0014060885",
        "  0.0106089780  0.0659424278 -0.0059172301\nZM  0.0154844499  0.7108013937  0.0359712230 -0.0053755072 -0.0143856535  0.0516739909  0.0064484814\nZM -0.0155089529 -0.2780040733 -0.0625000000  0.0087521286 -0.0090729584  0.0166090244 -0.0152785357\nZM -0.0141646808  0.0803949224 -0.0296296296  0.0109951549 -0.0001990844  0.0068074202  0.0510510535\nZM -0.0197395056  0.0182767624 -0.0076335878 -0.0094124010  0.0057734422  0.0628803050 -0.0123808915\nZM -0.0350684658  0.0897435897 -0.0230769231 -0.0410411272 -0.0237529691",
        "  0.0337149333 -0.0270009763\nZM  0.0151902324 -0.1564705882  0.0708661417  0.0323479888  0.0103406732  0.0338462158  0.0188305321\nZM  0.0289469996 -0.0460251046 -0.0098039216 -0.0097995652  0.0064218340  0.0119047013  0.1293773794\nZM  0.0130470097  0.0233918129 -0.0123762376  0.0010996449  0.0027916051  0.0376470825  0.0081826045\nZM  0.0236115103  0.0885714286 -0.0300751880 -0.0381596166 -0.0294293094  0.0039682653 -0.0106791443\nZM  0.1488859837 -0.1062992126 -0.0051679587  0.0164954745  0.0112681825 -0.0530773215",
        " -0.0310881028\nZM -0.0213324540  0.0293685756  0.0623376623  0.0282943862  0.0275526737 -0.0220632185  0.0606060305\nZM  0.0139876091 -0.0057061341  0.0097799511  0.0146885766 -0.0226735208 -0.0262195597  0.0323529942\nZM  0.0031038511 -0.0186513630  0.0290556901  0.0139177601 -0.0018156143  0.0200376458 -0.0240130691\nZM  0.0158147716 -0.0774853801  0.0000000000 -0.0104621670  0.0032336095  0.0073663707 -0.0166805692\nZM  0.0116200250  0.1125198098  0.0305882353  0.0452323787  0.0147058826  0.1188300459  0.0237489513",
        "\nZM -0.0110404597  0.0270655271  0.0068493151  0.0187092435  0.0037721263 -0.0005446404  0.0186412929\nZM -0.0045106112  0.0138696255  0.0158730159  0.0173579664  0.0334256125 -0.0299727504  0.0052866756\nZM  0.0178976214  0.0656634747 -0.0044642857 -0.0064578056  0.0137799234 -0.0764044109 -0.0177993055\nZM  0.0121299353 -0.0141206675 -0.0089686099  0.0702045411  0.0035869171  0.0066908497  0.0024711156\nZM  0.0598131081  0.0403645833  0.0972850679  0.0233963512  0.0030097818  0.0096677102 -0.0102711078\nZM  0.0782238933",
        " -0.0050062578  0.1793814433  0.0611323639 -0.0026256564  0.0502692619  0.0211705884\nZM  0.0130857404 -0.0012578616 -0.0367132867 -0.0190658613  0.0227528958  0.0125356813 -0.0362140314\nZM -0.0335264409 -0.0277078086  0.0108892922 -0.0473922790 -0.0126861190  0.0540236090  0.0277540564\nZM  0.0319378925  0.0569948187 -0.0664272890 -0.0706974015 -0.0441340588  0.0384410128 -0.0174491068\nZM  0.0197124080 -0.0257352941 -0.0711538462 -0.0410934421 -0.0280538271 -0.0205656034 -0.0063424947\nZM -0.0018678091  0.1597484277",
        " -0.0165631470  0.0213699066  0.0160352779  0.0241470661 -0.0306382553\nZM  0.0624064950  0.2798264642 -0.1494736842 -0.0556655643  0.1426316659  0.0246027555  0.0118524139\nZM -0.0752972503  0.3559322034  0.0742574257  0.0691605704 -0.0018991195 -0.0195097233 -0.0603036469\nZM  0.0772381048 -0.2487500000  0.0046082949  0.0235494979  0.0178169691  0.0443876068  0.0272391505\nZM  0.0385465473 -0.1031613977  0.0344036697 -0.0381288920 -0.0107070190  0.0659502227 -0.0076404494\nZM -0.0057035668  0.0500927644  0.0554323725",
        "  0.0700290254  0.0730115113 -0.0210816040  0.1028079710\nZM  0.0702054520  0.1369257951 -0.0462184874 -0.0394363428 -0.0052833494  0.0402621542 -0.0427105133\nZM -0.0854400000 -0.0303030303 -0.0462555066 -0.0265285409 -0.0238210040  0.0207021887 -0.0454740045\nZM -0.0049860042 -0.1971153846 -0.0923787529 -0.0774320289 -0.0354493311  0.0388007379 -0.0741573034\nZM -0.0462417758  0.0628742515  0.0534351145  0.0637221940 -0.0090598120  0.0343803274  0.0082524272\nZM  0.0166836117 -0.0131455399 -0.0869565217 -0.0559597823",
        " -0.1335173515 -0.0475996499 -0.0553682715\nZM -0.0075249499 -0.1160799239 -0.1349206349 -0.1223679020 -0.1232331077 -0.0435156227 -0.1926605916\nZM -0.0182698455 -0.0947255113  0.0336391437  0.1134020893  0.1128518821 -0.0513514101  0.0176768308\nZM  0.0036289197 -0.1783590963 -0.1834319527 -0.1845209076 -0.1501733585  0.0227920126 -0.2772953302\nZM  0.0300389113  0.3748191027  0.1884057971  0.1062629072  0.0112844412  0.0199628968 -0.1304721030\nZM  0.0684968599  0.1210526316 -0.1371951220 -0.0665071309 -0.0681386293",
        "  0.0045516153 -0.0335636723\nZM  0.0426248677  0.0873239437  0.1024734982  0.0500443136 -0.1169426752 -0.0367013405  0.0970377937\nZM  0.0547790754 -0.1062176166  0.0641025641 -0.0339014226 -0.0856895268 -0.0004704426 -0.0893854749\nZM  0.2222136678  0.0396135266  0.0301204819  0.0337302427  0.0422845679  0.0094117647 -0.0623721881\nZM -0.1527952200  0.1868029740  0.0906432749  0.1715642366  0.1544051515  0.0601399727  0.3904034896\nZM  0.0216748643 -0.0798747063  0.0294906166 -0.0142869124  0.0828743750 -0.0153914234",
        "  0.0925490196\nZM  0.0220113893  0.0842553191 -0.0078125000  0.0473088195  0.0142891738 -0.0254578460 -0.0567121321\nZM  0.0747432054  0.0243328100 -0.0236220472 -0.0175322107 -0.0766476343 -0.0101195738 -0.0418569254\nZM -0.0054053528  0.0957854406 -0.0376344086  0.0508843560  0.0000000000 -0.0255576361 -0.0635424940\nZM -0.0315483155 -0.0503496503 -0.0111731844 -0.0074926577 -0.0059477376  0.0548402383 -0.0195080577\nZM -0.0624144218  0.0331369661 -0.0649717514 -0.0778832039 -0.0777835088  0.0045208067 -0.1150519031",
        "\nZM -0.1100000000 -0.0121168924  0.0271903323  0.0510140513 -0.0183357400  0.0175517528 -0.0078201369\nZM  0.0514229230  0.1262626263 -0.0147058824 -0.0452498452  0.0962644568  0.0132684090  0.1172413793\nZM -0.0410296031  0.0313901345  0.1014925373  0.1004056312  0.2178242874  0.0567437903  0.1067019400\nZM -0.0747519266 -0.0745341615 -0.0108401084 -0.0349105075  0.0264743871 -0.0082609869  0.0549800797\nZM  0.0356922901  0.1530201342  0.0465753425  0.0305757271  0.0694066066 -0.0008330300  0.1012084592\nZM  0.0568712683",
        " -0.0075669965  0.0000000000 -0.0149840375  0.0525490196 -0.0033346892  0.0240054870\nZM  0.0916391922  0.0346041076  0.0785340314  0.0262406393  0.0327868666  0.0409869667 -0.0817146685\nZM  0.0439229038  0.0204082211  0.0364077670  0.0522513011  0.0400433088 -0.0245077346  0.0262582057\nZM  0.0681513783 -0.0261110556 -0.0210772834 -0.0109526894 -0.0163024454  0.0358319224 -0.1030561478\nZM -0.0085774810  0.0325156285  0.0741626794  0.0493520000  0.0528913954  0.0516899068 -0.0301109350\nZM -0.0013310063  0.0541436464",
        "  0.0066815145 -0.0080760180  0.0224380438  0.0060491259  0.1258169935\nZM -0.0071304346  0.2473794025 -0.0221238938 -0.0180281871  0.0653455934 -0.0048853932 -0.0899854862\nZM -0.0383918438 -0.0953780712 -0.0452488688 -0.0611042180 -0.0565719267 -0.0026435109 -0.0382775120\nZM  0.0487191722 -0.0074314906  0.0260663507  0.0617415698  0.0224865736  0.0060582501 -0.1550580431\nZM  0.1253909884 -0.0463267175 -0.0069284065 -0.0074786071  0.0015935936  0.0011292090  0.0431795878\nZM -0.0608551259 -0.0269871947  0.0232558140",
        "  0.0196472595  0.0531424679  0.0281954426 -0.0301034807\nZM  0.0365239477  0.0595057993  0.0227272727  0.0258639854  0.0466837424 -0.0281535597  0.1154219205\nZM -0.0478736617 -0.0218943836 -0.0133333333 -0.0192541665 -0.0437355520 -0.0124154176  0.0939130435\nZM -0.0653394904 -0.1041362094 -0.0045045045  0.0243686433  0.0313962566 -0.0068571217  0.0158982512\nZM -0.0772118945 -0.0152091798 -0.0542986425 -0.0207062336 -0.0506366003  0.0425777034 -0.0696400626\nZM  0.0250795299 -0.0441257057 -0.0622009569 -0.0325031742",
        " -0.0065516106 -0.0103016806  0.0092514718\nZM  0.0352194289  0.0421234276  0.0433673469  0.0300940869  0.0503530452  0.0126394358  0.0033333333\nZM  0.0096207821 -0.0155037661  0.0195599022  0.0084108316  0.0753434606  0.0139500700 -0.0348837209\nZM  0.0329373620 -0.0359956110  0.0000000000  0.0137877023  0.0748728799  0.0054308239 -0.0542168675\nZM  0.0548833961  0.0589265495  0.0479616307  0.0237751673 -0.0210889832  0.0122434578  0.0172884440\nZM -0.0152091822  0.0319559229  0.0411899314  0.0250270329  0.0537929653",
        "  0.0056919025  0.0930232558\nZM  0.0712998869  0.3080619327 -0.0527472527  0.0323840127 -0.0053277166  0.0247611489 -0.0564648118\nZM -0.0326766166  0.6253061224 -0.0069605568 -0.0326079907 -0.0156950924  0.0169140566 -0.0251517780\nZM  0.0378788268  0.0213460070 -0.0397196262 -0.0028835732  0.0320172880  0.0010184005 -0.0569395018\n            PYPL           FDX           NOW\nZM  0.0097375033  0.0010895045  0.0037123768\nZM -0.0011939475  0.0074817905  0.0149023048\nZM -0.0012873471  0.0241022456  0.0024059477\nZM",
        "  0.0007365896 -0.0059990714  0.0031414846\nZM  0.0097524885  0.0113409524  0.0070372974\nZM -0.0031890478  0.0002623482  0.0023759363\nZM -0.0130713069 -0.0156690202 -0.0141871407\nZM  0.0018523386  0.0071265988 -0.0017325802\nZM  0.0238513640  0.0257259335  0.0315952918\nZM -0.0179683792 -0.0123792328 -0.0004806483\nZM  0.0129642881  0.0007833867  0.0060803468\nZM -0.0045384407  0.0097847777  0.0001366101\nZM  0.0196042859  0.0150516512  0.0093543749\nZM  0.0067072080  0.0058550573  0.0123795166\nZM  0.0031980101 -0.0089844759",
        " -0.0014366142\nZM  0.0208093421  0.0169187804  0.0166287504\nZM -0.0055517003  0.0178929097 -0.0077340989\nZM  0.0018318126 -0.0183802324  0.0111774295\nZM  0.0047888899  0.0024505000  0.0168924266\nZM  0.0055459184  0.0027578805  0.0080639962\nZM  0.0009479576 -0.0153142886  0.0014719762\nZM -0.0055962289 -0.0126325714 -0.0004153780\nZM  0.0206926320 -0.0042432556 -0.0044430717\nZM -0.0077190263 -0.0052298210 -0.0066460414\nZM -0.0148743799 -0.0362173857 -0.0056886451\nZM  0.0111072459 -0.0006060990  0.0208691704\nZM",
        "  0.0012015706 -0.0022910222 -0.0035662953\nZM  0.0039430738  0.0013507624  0.0916818542\nZM -0.0275785854 -0.0244165880 -0.0099232599\nZM  0.0230046802 -0.0055309098  0.0146941455\nZM  0.0306411462  0.0255144491  0.0257283995\nZM -0.0029980096  0.0165411898 -0.0384342216\nZM  0.0014199632 -0.0088028808  0.0094535066\nZM -0.0084244058  0.0472986172 -0.0018730289\nZM  0.0099259844  0.0071951565  0.0050137542\nZM -0.0101616027  0.0077816216  0.0023339791\nZM -0.0023560923  0.0032278307  0.0181330759\nZM  0.0164474024  0.0186740502",
        "  0.0057461694\nZM  0.0205791715 -0.0176504230  0.0123646458\nZM -0.0058541427 -0.0003151819  0.0037342374\nZM  0.0134129962  0.0162073147  0.0006434054\nZM -0.0119441849  0.0233957288 -0.0133624035\nZM -0.0240137385 -0.0100660658 -0.0239700543\nZM -0.0255251155 -0.0514547068 -0.0316999903\nZM -0.0582273951 -0.0597351896 -0.0115121628\nZM -0.0050155296 -0.0073490313  0.0137995511\nZM -0.0116396755 -0.0399226246 -0.0423908322\nZM  0.0013909682  0.0173682772  0.0187128706\nZM  0.0450967968 -0.0100587689  0.0561501372\nZM",
        " -0.0274676499 -0.0476565718 -0.0428861477\nZM  0.0504737691  0.0249455691  0.0468404022\nZM -0.0270598692 -0.0475038976 -0.0456139904\nZM -0.0114993849 -0.0123762779 -0.0367108902\nZM -0.0835061961 -0.0938283213 -0.0792775022\nZM  0.0797992841  0.0429559555  0.0709027775\nZM -0.0532166585 -0.0800530031 -0.0708759075\nZM -0.0667950228 -0.1262048993 -0.0980972698\nZM  0.1360355109  0.0992783526  0.0974745097\nZM -0.1582387715 -0.1513645454 -0.0773108736\nZM  0.0555435930  0.0493976603  0.0828467791\nZM -0.0654950833  0.0497052610",
        " -0.0322176904\nZM  0.0243822767  0.1203851829 -0.0017975266\nZM -0.0748212387 -0.0055515982 -0.0826910850\nZM -0.0163820720  0.0063029447  0.0024342756\nZM  0.1410978034  0.0740873000  0.0653297530\nZM -0.0162401273 -0.0144119073 -0.0269484816\nZM  0.0514052664  0.0616178620  0.1135753826\nZM -0.0710523126 -0.0399681805 -0.0703355961\nZM  0.0379759936  0.0309338876  0.0452190328\nZM -0.0132948677 -0.0245354156  0.0006633332\nZM -0.0455400156 -0.0641596698 -0.0471420916\nZM  0.0234186919  0.0278462806 -0.0515252742\nZM",
        " -0.0120829559 -0.0636145633 -0.0364092394\nZM  0.1004437612  0.0897270776  0.0816604737\nZM -0.0136716733 -0.0257939210 -0.0281533827\nZM  0.0476665242  0.0827080897  0.0445968429\nZM  0.0074243101 -0.0258882269  0.0146324035\nZM  0.0013228175  0.0101398726  0.0197799038\nZM  0.0359030090  0.0125476055  0.0653477152\nZM -0.0167145506 -0.0414134981 -0.0204243208\nZM  0.0033348866 -0.0068390721 -0.0134496175\nZM  0.0326839633  0.0484548124  0.0262039938\nZM  0.0028609746 -0.0177012283  0.0095797424\nZM -0.0412766077 -0.0176125144",
        " -0.0452621914\nZM  0.0711363300 -0.0161022731  0.0375385130\nZM  0.0004340307  0.0197401673 -0.0076766033\nZM  0.0428670781  0.0180344262  0.0189364772\nZM  0.0029122899  0.0343734330  0.0186835808\nZM -0.0364224677  0.0035352594 -0.0408295715\nZM  0.0640606429  0.0136214155  0.0878040203\nZM -0.0046933322 -0.0209298740  0.0917730983\nZM -0.0194308862 -0.0676027695 -0.0342208531\nZM  0.0252881434 -0.0198815639  0.0445642383\nZM  0.0143134073  0.0157099890  0.0451161722\nZM  0.0229609982 -0.0216707321 -0.0141646875\nZM",
        "  0.1401293374  0.0140722620  0.0449929427\nZM -0.0090914353  0.0316943990 -0.0119686173\nZM -0.0068984544 -0.0239123741  0.0169378779\nZM -0.0203529304 -0.0375978548 -0.0470480602\nZM  0.0191448417 -0.0335866481 -0.0117888319\n [ reached getOption(\"max.print\") -- omitted 151 rows ]\n",
        "> ",
        "price_adjusted[1,3]",
        "PLUG \n 2.9 \n",
        "> ",
        "exp_return <- daily_return(price_adjusted)",
        "> ",
        "View(exp_return)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# we get the average of the year-round % change in price to get the average daily return",
        "> ",
        "",
        "> ",
        "R_Eturn<-avg_dailyreturn(exp_return)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "avg_dailyreturn <- function(df){",
        "+ ",
        "  b <- NULL",
        "+ ",
        "  c <- ncol(df)",
        "+ ",
        "  for (i in 1:c){",
        "+ ",
        "    a <- sum(df[,i])/nrow(df)",
        "+ ",
        "    b <- cbind(b, tickets = a)",
        "+ ",
        "    }",
        "+ ",
        "  ",
        "+ ",
        "  colnames(b) <- colnames(df)",
        "+ ",
        "  return(b)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "# calculating the individual standard deviation of each of the stocks (this will be the risk for our data)",
        "> ",
        "",
        "> ",
        "stan_D <- function(df){",
        "+ ",
        "  b <- NULL",
        "+ ",
        "  for (i in 1:ncol(df)){",
        "+ ",
        "    a<- sd(df[,i])",
        "+ ",
        "    b <- cbind(b, data = a)",
        "+ ",
        "  }",
        "+ ",
        "  colnames(b) <- colnames(df)",
        "+ ",
        "  return(b)",
        "+ ",
        "}",
        "> ",
        "sd<- stan_D(exp_return)",
        "> ",
        "",
        "> ",
        "View(sd)",
        "> ",
        "",
        "> ",
        "for (i in tickers){",
        "+ ",
        "  print(a[,i])",
        "+ ",
        "}",
        "  [1]  63.540  66.350  66.170  67.600  68.180  66.930  66.150  66.460  67.450  66.640  66.790  68.040\n [13]  68.720  67.280  70.320  71.900  72.550  72.620  73.090  74.030  73.160  76.940  76.110  75.560\n [25]  76.730  75.540  74.470  73.000  70.440  71.510  73.580  74.540  76.300  87.660  85.790  86.990\n [37]  87.260  88.640  89.670  88.680  88.280  89.860  90.950  96.390 103.930 105.290 101.760 105.010\n [49] 107.080 106.880 113.550 105.000 113.110 117.470 116.800 125.000 114.320 113.750 108.490 110.300\n [61]",
        " 109.470 107.470 107.860 111.100 118.710 123.770 130.550 159.560 135.180 138.110 141.150 151.700\n [73] 150.880 146.120 137.000 121.930 128.200 122.940 113.750 117.810 124.510 135.920 141.890 151.560\n [85] 150.260 150.060 148.990 143.270 150.250 169.090 158.800 164.600 156.720 146.480 135.170 138.560\n [97] 143.440 144.820 149.590 157.800 155.400 166.480 161.040 167.140 167.910 174.830 164.690 173.680\n[109] 175.480 172.030 171.060 164.000 161.970 163.550 179.480 204.150 208.080 223.870 210.350 207.600\n[121] 209.830",
        " 205.430 221.020 222.070 219.520 239.020 242.560 236.760 241.570 243.480 251.270 252.810\n[133] 255.900 259.510 256.800 248.560 253.540 259.130 261.740 261.000 262.100 266.320 269.520 275.870\n[145] 260.300 260.010 256.220 248.540 246.540 268.580 260.440 261.180 251.500 246.560 252.330 252.180\n[157] 252.390 250.000 253.910 268.000 267.340 272.900 268.250 258.730 250.000 231.040 236.720 247.250\n[169] 244.910 266.150 276.800 273.510 290.690 289.680 282.280 290.440 295.270 294.680 299.270 325.100\n[181] 457.690 423.560",
        " 381.320 369.890 350.880 389.650 384.480 383.000 403.510 410.940 408.170 413.125\n[193] 438.730 468.470 492.600 500.530 464.980 496.500 487.660 465.500 470.110 482.990 482.230 485.370\n[205] 478.250 480.610 478.550 492.410 491.540 518.790 509.250 536.400 559.000 568.340 537.020 513.190\n[217] 520.540 511.520 517.790 538.990 516.010 489.680 460.910 453.000 451.510 483.700 496.730 500.110\n[229] 413.240 376.010 413.340 428.640 403.580 399.150 401.630 415.040 414.290 439.600 430.280 427.550\n[241] 443.720 471.610 478.360",
        " 406.310 412.860 413.540 410.010 407.850 412.000 385.360 397.960 397.010\n  [1]   4.03   4.00   3.99   3.96   4.01   4.01   4.00   4.00   4.00   3.99   4.00   3.98   4.49   4.44\n [15]   4.58   4.57   4.28   4.01   3.93   3.95   3.99   4.38   4.78   5.74   9.82   7.09   7.66   7.80\n [29]   8.50   7.17   6.84   7.00   7.62   6.81   7.01   6.97   6.84   6.31   7.02   7.21   7.31   7.79\n [43]   7.68   7.99   7.95   7.94   7.72   8.16   7.95   9.22  11.80  16.00  12.02  10.78  11.32  12.87\n [57]  12.48  10.02  10.65",
        "  10.51   9.29   8.41   6.91   9.50  10.65  11.58  10.35  10.76  12.77  11.75\n [71]  12.74  13.05  14.30  13.58  14.03  13.86  15.61  16.10  14.90  17.18  17.05  17.64  18.00  17.53\n [85]  18.10  19.08  23.80  21.53  21.37  20.38  19.83  21.01  20.55  18.41  18.13  17.33  18.06  17.78\n [99]  17.14  18.15  18.73  24.50  39.82  40.67  38.30  43.63  56.96  53.90  52.81  50.07  46.11  48.17\n[113]  45.47  44.84  46.04  52.82  49.64  44.25  44.66  46.30  44.79  45.93  44.96  44.43  45.57  51.07\n[127]  52.15  55.41",
        "  59.27  64.75  65.95  69.66  77.50  83.54  77.39  83.61  83.35  79.70  81.64  79.44\n[141] 104.56  98.30  96.30  94.36 104.32 109.97 111.15 120.29 140.49 138.23 140.69 146.45 139.59 133.93\n[155] 139.60 148.60 145.36 146.62 143.10 155.87 157.17 173.49 167.50 170.29 178.51 149.48 124.42 133.28\n[169] 146.51 155.53 146.23 147.06 143.13 137.62 119.26 113.11 114.62 107.35 107.74 110.34 105.08 102.90\n[183] 102.98  92.93  85.31  90.84  92.86  95.45 105.80 110.34 120.13 115.51 108.36 110.15 111.63 101.57\n[197] 102.44",
        " 113.56 111.18 107.95 108.35 104.90 103.60 110.17 107.41 110.00 111.02 111.22 110.22 117.28\n[211] 111.76 111.42 107.04 102.05  98.36  91.16  93.59  93.13  87.38  89.59  81.33  87.63  80.71  82.40\n[225]  83.64  87.27  93.11  89.86  90.31  78.74  85.01  90.87  96.60  90.65  92.89  89.91  86.40  86.55\n[239]  93.98  95.33 102.60 125.69 139.50 123.47 125.48 129.16 126.25 123.12 120.12 115.22 115.09 124.88\n  [1]  3.09  3.17  3.07  2.90  2.93  2.94  2.96  3.11  3.15  3.08  3.08  3.16  3.24  3.23  3.82  3.81\n [17]  4.08",
        "  4.05  4.14  4.10  4.04  4.20  4.19  4.17  4.32  4.05  3.93  3.90  3.81  4.08  4.04  3.99\n [33]  3.87  3.85  4.09  4.13  4.25  4.25  4.38  4.41  4.48  4.46  4.42  4.85  5.72  5.51  5.57  5.20\n [49]  4.83  4.75  4.04  4.34  4.36  4.51  4.76  4.54  4.33  3.93  4.14  3.78  3.27  3.38  2.76  3.28\n [65]  2.83  3.12  3.32  3.42  3.73  3.84  3.81  3.72  3.58  3.54  3.31  3.40  3.35  3.69  3.65  3.82\n [81]  3.82  4.12  4.27  4.18  4.49  4.52  4.42  4.22  4.33  4.30  4.40  4.50  4.44  4.42  4.18  3.92\n [97]  4.09  4.17",
        "  4.17  4.37  4.55  4.31  4.28  4.11  4.06  4.08  4.17  4.17  4.22  4.17  4.11  4.22\n[113]  4.33  4.25  4.21  4.28  4.15  4.17  5.00  4.88  5.28  5.10  5.66  4.75  5.06  5.21  5.45  5.29\n[129]  5.39  5.48  5.57  6.43  7.57  7.35  6.83  7.99  8.21  8.87  9.10  9.98  9.34  9.50  8.95  9.30\n[145]  8.31  8.65  9.04  9.06  8.99  8.60  9.08  8.95  8.53  8.52  8.35  8.06  8.19  7.97  7.71  9.16\n[161]  9.13  9.33 10.73 11.28 12.04 11.31 10.63 11.36 11.40 12.20 12.77 13.65 13.67 12.93 12.34 12.85\n[177] 13.05 12.99 13.07",
        " 12.98 14.13 13.14 11.55 11.76 11.73 12.13 12.12 11.71 12.24 12.53 12.94 12.84\n[193] 13.56 13.36 12.93 12.08 11.24 11.65 13.20 13.16 13.41 14.00 14.14 15.74 16.23 18.23 17.88 18.43\n[209] 17.64 17.10 17.30 17.03 16.27 16.39 16.29 14.86 14.96 15.03 14.46 14.79 14.80 14.81 14.00 15.47\n[225] 16.95 16.61 18.84 18.86 20.31 20.01 23.00 23.45 23.43 25.00 22.98 23.22 23.79 24.36 26.87 26.72\n[241] 26.16 26.24 26.39 24.47 24.07 23.85 24.85 24.75 28.74 26.74 27.19 26.77\n",
        "Error in a[, i] : subscript out of bounds\n",
        "> ",
        "",
        "> ",
        "cor(exp_return[,1],exp_return[,2])",
        "[1] 0.04805986\n",
        "> ",
        "# to get a combination of all different corelation in the portfolio",
        "> ",
        "install.packages(\"gtools\")",
        "Error in install.packages : Updating loaded packages\n",
        "> ",
        "library(gtools)",
        "> ",
        "nrow(combinations(3,2,tickers))",
        "[1] 3\n",
        "> ",
        "comb <- combinations(3,2,tickers)",
        "> ",
        "comb",
        "     [,1]   [,2]  \n[1,] \"CARR\" \"ETSY\"\n[2,] \"CARR\" \"FDX\" \n[3,] \"ETSY\" \"FDX\" \n",
        "> ",
        "for (i in 1:nrow(comb)){",
        "+ ",
        "  names_try <- comb[i,1]",
        "+ ",
        "}",
        "> ",
        "expand.grid(tickers,tickers)",
        "    Var1 Var2\n1     ZM   ZM\n2   NVAX   ZM\n3   PLUG   ZM\n4   NVDA   ZM\n5   ETSY   ZM\n6   CARR   ZM\n7     LB   ZM\n8   PYPL   ZM\n9    FDX   ZM\n10   NOW   ZM\n11    ZM NVAX\n12  NVAX NVAX\n13  PLUG NVAX\n14  NVDA NVAX\n15  ETSY NVAX\n16  CARR NVAX\n17    LB NVAX\n18  PYPL NVAX\n19   FDX NVAX\n20   NOW NVAX\n21    ZM PLUG\n22  NVAX PLUG\n23  PLUG PLUG\n24  NVDA PLUG\n25  ETSY PLUG\n26  CARR PLUG\n27    LB PLUG\n28  PYPL PLUG\n29   FDX PLUG\n30   NOW PLUG\n31    ZM NVDA\n32  NVAX NVDA\n33  PLUG NVDA\n34  NVDA NVDA\n35  ETSY NVDA\n36  CARR",
        " NVDA\n37    LB NVDA\n38  PYPL NVDA\n39   FDX NVDA\n40   NOW NVDA\n41    ZM ETSY\n42  NVAX ETSY\n43  PLUG ETSY\n44  NVDA ETSY\n45  ETSY ETSY\n46  CARR ETSY\n47    LB ETSY\n48  PYPL ETSY\n49   FDX ETSY\n50   NOW ETSY\n51    ZM CARR\n52  NVAX CARR\n53  PLUG CARR\n54  NVDA CARR\n55  ETSY CARR\n56  CARR CARR\n57    LB CARR\n58  PYPL CARR\n59   FDX CARR\n60   NOW CARR\n61    ZM   LB\n62  NVAX   LB\n63  PLUG   LB\n64  NVDA   LB\n65  ETSY   LB\n66  CARR   LB\n67    LB   LB\n68  PYPL   LB\n69   FDX   LB\n70   NOW   LB\n71    ZM PYPL\n72  NVAX PYPL\n73 ",
        " PLUG PYPL\n74  NVDA PYPL\n75  ETSY PYPL\n76  CARR PYPL\n77    LB PYPL\n78  PYPL PYPL\n79   FDX PYPL\n80   NOW PYPL\n81    ZM  FDX\n82  NVAX  FDX\n83  PLUG  FDX\n84  NVDA  FDX\n85  ETSY  FDX\n86  CARR  FDX\n87    LB  FDX\n88  PYPL  FDX\n89   FDX  FDX\n90   NOW  FDX\n91    ZM  NOW\n92  NVAX  NOW\n93  PLUG  NOW\n94  NVDA  NOW\n95  ETSY  NOW\n96  CARR  NOW\n97    LB  NOW\n98  PYPL  NOW\n99   FDX  NOW\n100  NOW  NOW\n",
        "> ",
        "",
        "> ",
        "# Gives the corelation for any ammount of data in the data frame",
        "> ",
        "corelation <- function(df){",
        "+ ",
        "  comb <- combinations(3,2,tickers)",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  names_cor <- NULL",
        "+ ",
        "  for (i in 1:nrow(comb)){",
        "+ ",
        "    b <- exp_return[,comb[i,1]]",
        "+ ",
        "    c <- exp_return[,comb[i,2]]",
        "+ ",
        "    d <- cor(b,c)",
        "+ ",
        "    e <- cbind(e,i = d)",
        "+ ",
        "    names_cor <- append(names_cor, paste(comb[i,1],comb[i,2]))",
        "+ ",
        "    ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(e) <- names_cor",
        "+ ",
        "  return(e)",
        "+ ",
        "  ",
        "+ ",
        "}",
        "> ",
        "exp_return[,\"ZM\"]",
        "           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0085799115 -0.0183338222 -0.0116539369  0.0046862735  0.0148961483 -0.0120088664  0.0022509304 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0187153763  0.0099941210 -0.0209546272  0.0451843199  0.0224687429  0.0090403475  0.0009648518 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0064719496  0.0128608982 ",
        "-0.0117519251  0.0516675477 -0.0107876394 -0.0072264222  0.0154844499 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0155089529 -0.0141646808 -0.0197395056 -0.0350684658  0.0151902324  0.0289469996  0.0130470097 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0236115103  0.1488859837 -0.0213324540  0.0139876091  0.0031038511  0.0158147716  0.0116200250 \n           ZM            ZM            ZM            ZM ",
        "           ZM            ZM            ZM \n-0.0110404597 -0.0045106112  0.0178976214  0.0121299353  0.0598131081  0.0782238933  0.0130857404 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0335264409  0.0319378925  0.0197124080 -0.0018678091  0.0624064950 -0.0752972503  0.0772381048 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0385465473 -0.0057035668  0.0702054520 -0.0854400000 -0.0049860042 -0.0462417758 ",
        " 0.0166836117 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0075249499 -0.0182698455  0.0036289197  0.0300389113  0.0684968599  0.0426248677  0.0547790754 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.2222136678 -0.1527952200  0.0216748643  0.0220113893  0.0747432054 -0.0054053528 -0.0315483155 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0624144218 ",
        "-0.1100000000  0.0514229230 -0.0410296031 -0.0747519266  0.0356922901  0.0568712683 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0916391922  0.0439229038  0.0681513783 -0.0085774810 -0.0013310063 -0.0071304346 -0.0383918438 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0487191722  0.1253909884 -0.0608551259  0.0365239477 -0.0478736617 -0.0653394904 -0.0772118945 \n           ZM            ZM            ZM ",
        "           ZM            ZM            ZM            ZM \n 0.0250795299  0.0352194289  0.0096207821  0.0329373620  0.0548833961 -0.0152091822  0.0712998869 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0326766166  0.0378788268  0.0046069463  0.0412125415 -0.0579991986  0.0545873513  0.0103639053 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0196603435 -0.0056385573 -0.0412720571 -0.0123780427  0.0097549052 ",
        " 0.0974013617  0.1374526329 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0192505908  0.0758842409 -0.0603921441 -0.0130734486  0.0107417916 -0.0209693988  0.0758896536 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0047507148 -0.0114828789  0.0888301733  0.0148104508 -0.0239116221  0.0203159829  0.0079065652 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM ",
        "\n 0.0319944477  0.0061288414  0.0122226021  0.0141071359 -0.0104428419 -0.0320871900  0.0200353840 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0220478510  0.0100721065 -0.0028271950  0.0042145824  0.0161007284  0.0120155524  0.0235604269 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0564396538 -0.0011140146 -0.0145763965 -0.0299742720 -0.0080469947  0.0893972363 -0.0303074890 \n           ZM            ZM ",
        "           ZM            ZM            ZM            ZM            ZM \n 0.0028413108 -0.0370625364 -0.0196421551  0.0234020281 -0.0005944953  0.0008327623 -0.0094694679 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0156400160  0.0554920869 -0.0024627015  0.0207974792 -0.0170391869 -0.0354892414 -0.0337417796 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0758400280  0.0245845229  0.0444829290 -0.0094640890 ",
        " 0.0867256937  0.0400150075 -0.0118857592 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0628130283 -0.0034745227 -0.0255454093  0.0289074785  0.0166298959 -0.0019981577  0.0155762051 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0863100810  0.4078437206 -0.0745701323 -0.0997261101 -0.0299748028 -0.0513936825  0.1104935831 \n           ZM            ZM            ZM            ZM            ZM            ZM ",
        "           ZM \n-0.0132682743 -0.0038493835  0.0535509399  0.0184134019 -0.0067406166  0.0121395175  0.0619788466 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0677865413  0.0515081114  0.0160982398 -0.0710246900  0.0677878366 -0.0178046244 -0.0454415040 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0099032975  0.0273978546 -0.0015734881  0.0065113824 -0.0146692113  0.0049346262 -0.0042862135 \n           ZM ",
        "           ZM            ZM            ZM            ZM            ZM            ZM \n 0.0289625250 -0.0017668102  0.0554379471 -0.0183889019  0.0533137437  0.0421326901  0.0167084562 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0551078677 -0.0443745431  0.0143221340 -0.0173281388  0.0122575640  0.0409432645 -0.0426352630 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.0510261749 -0.0587526332 -0.0171617104 ",
        "-0.0032891611  0.0712941049  0.0269381821  0.0068044489 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n-0.1737017808 -0.0900928780  0.0992792346  0.0370155783 -0.0584640424 -0.0109767410  0.0062132307 \n           ZM            ZM            ZM            ZM            ZM            ZM            ZM \n 0.0333889496 -0.0018070547  0.0610924629 -0.0212011075 -0.0063447314  0.0378201695  0.0628549174 \n           ZM            ZM            ZM            ZM            ZM ",
        "           ZM            ZM \n 0.0143126741 -0.1506187584  0.0161206641  0.0016471056 -0.0085360519 -0.0052681738  0.0101752947 \n           ZM            ZM            ZM            ZM            ZM            ZM \n-0.0646602306  0.0326967160 -0.0023871269 -0.0025692551  0.0086870959  0.0114413216 \n",
        "> ",
        "coor_value <- corelation(price_adjusted)",
        "> ",
        "i <- c(\"ZM\",\"PLUG\")",
        "> ",
        "# So far",
        "> ",
        "weight <- c(\"NVAX\"= .2, \"ZM\" = .3, \"PLUG\"= .5)",
        "> ",
        "weight[\"NVAX\"] ",
        "NVAX \n 0.2 \n",
        "> ",
        "# need to max weight for the  ",
        "> ",
        "install.packages(\"lpSolve\")",
        "Error in install.packages : Updating loaded packages\n",
        "> ",
        "library(lpSolve)",
        "> ",
        "install.packages(\"lpSolveAPI\")",
        "Error in install.packages : Updating loaded packages\n",
        "> ",
        "library(lpSolveAPI)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "sharpe_ratio(weight, sd, coor_value, R_Eturn)",
        "Error in cor_ll[, paste(comb[i, 1], comb[i, 3])] : \n  subscript out of bounds\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "sharpe_ratio <- function(weight, st_dev, cor_ll, R_eturn, rf = 0){",
        "+ ",
        "  comb <- combinations(ncol(st_dev), 3, colnames(st_dev))",
        "+ ",
        "  e <- NULL",
        "+ ",
        "  f <- NULL",
        "+ ",
        "  ngy <- NULL",
        "+ ",
        "  names_cor <- NULL",
        "+ ",
        " ",
        "+ ",
        "  names_shrp <- NULL",
        "+ ",
        "  for (i in 1:nrow(comb)){",
        "+ ",
        "    sd_a <- st_dev[,comb[i,1]]",
        "+ ",
        "    sd_b <- st_dev[,comb[i,2]]",
        "+ ",
        "    sd_c <- st_dev[,comb[i,3]]",
        "+ ",
        "    weight_a <- weight[1]",
        "+ ",
        "    weight_b <- weight[2]",
        "+ ",
        "    weight_c <- weight[3]",
        "+ ",
        "    P_ab <- cor_ll[,paste(comb[i,1],comb[i,2])]",
        "+ ",
        "    P_ac <- cor_ll[,paste(comb[i,1],comb[i,3])]",
        "+ ",
        "    P_bc <- cor_ll[,paste(comb[i,2],comb[i,3])]",
        "+ ",
        "    var_portfolio <- (weight_a*weight_a*sd_a*sd_a)+(weight_b*weight_b*sd_b*sd_b)+(weight_c*weight_c*sd_c*sd_c)+(2*weight_a*weight_b*sd_a*sd_b*P_ab)+(2*weight_a*weight_c*sd_c*sd_a*P_ac)+(2*weight_b*weight_c*sd_c*sd_b*P_bc)",
        "+ ",
        "    R_eturn_a <- R_eturn[,comb[i,1]]",
        "+ ",
        "    R_eturn_b <- R_eturn[,comb[i,2]]",
        "+ ",
        "    R_eturn_c <- R_eturn[,comb[i,3]]",
        "+ ",
        "    ",
        "+ ",
        "    portfolio_return <- (R_eturn_a * weight_a)+ (R_eturn_b * weight_b)+(R_eturn_c*weight_c)",
        "+ ",
        "    Final_ratio <- (portfolio_return-rf)/sqrt(var_portfolio)",
        "+ ",
        "    e <- paste(comb[i,1],comb[i,2],comb[i,3])",
        "+ ",
        "    ngy <- cbind(ngy,i = Final_ratio)",
        "+ ",
        "    names_cor <- append(names_cor, e)",
        "+ ",
        "  ",
        "+ ",
        "  }",
        "+ ",
        "  colnames(ngy) <- names_cor",
        "+ ",
        "  return(ngy)",
        "+ ",
        "}",
        "\nRestarting R session...\n\n"
    ]
}